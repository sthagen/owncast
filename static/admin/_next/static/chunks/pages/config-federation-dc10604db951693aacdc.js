(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{12028:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var a=t(87462),i=t(4942),r=t(67294),c=t(29439),l=t(44925),s=t(94184),o=t.n(s),d=t(21770),u=t(15105),f=r.forwardRef((function(e,n){var t,a=e.prefixCls,s=void 0===a?"rc-switch":a,f=e.className,h=e.checked,v=e.defaultChecked,p=e.disabled,m=e.loadingIcon,b=e.checkedChildren,g=e.unCheckedChildren,C=e.onClick,k=e.onChange,w=e.onKeyDown,N=(0,l.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),x=(0,d.Z)(!1,{value:h,defaultValue:v}),j=(0,c.Z)(x,2),y=j[0],O=j[1];function Z(e,n){var t=y;return p||(O(t=e),null===k||void 0===k||k(t,n)),t}var P=o()(s,f,(t={},(0,i.Z)(t,"".concat(s,"-checked"),y),(0,i.Z)(t,"".concat(s,"-disabled"),p),t));return r.createElement("button",Object.assign({},N,{type:"button",role:"switch","aria-checked":y,disabled:p,className:P,ref:n,onKeyDown:function(e){e.which===u.Z.LEFT?Z(!1,e):e.which===u.Z.RIGHT&&Z(!0,e),null===w||void 0===w||w(e)},onClick:function(e){var n=Z(!y,e);null===C||void 0===C||C(n,e)}}),m,r.createElement("span",{className:"".concat(s,"-inner")},y?b:g))}));f.displayName="Switch";var h=f,v=t(7085),p=t(97202),m=t(65632),b=t(97647),g=t(21687),C=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]])}return t},k=r.forwardRef((function(e,n){var t,c=e.prefixCls,l=e.size,s=e.loading,d=e.className,u=void 0===d?"":d,f=e.disabled,k=C(e,["prefixCls","size","loading","className","disabled"]);(0,g.Z)("checked"in k||!("value"in k),"Switch","`value` is not a valid prop, do you mean `checked`?");var w=r.useContext(m.E_),N=w.getPrefixCls,x=w.direction,j=r.useContext(b.Z),y=N("switch",c),O=r.createElement("div",{className:"".concat(y,"-handle")},s&&r.createElement(v.Z,{className:"".concat(y,"-loading-icon")})),Z=o()((t={},(0,i.Z)(t,"".concat(y,"-small"),"small"===(l||j)),(0,i.Z)(t,"".concat(y,"-loading"),s),(0,i.Z)(t,"".concat(y,"-rtl"),"rtl"===x),t),u);return r.createElement(p.Z,{insertExtraNode:!0},r.createElement(h,(0,a.Z)({},k,{prefixCls:y,className:Z,disabled:f||s,ref:n,loadingIcon:O})))}));k.__ANT_SWITCH=!0,k.displayName="Switch";var w=k},10610:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var a=t(15861),i=t(87757),r=t.n(i),c=t(67294),l=t(12028),s=t(74071),o=t(91486),d=t(95828),u=t(60293),f=t(85893);function h(e){var n=(0,c.useState)(null),t=n[0],i=n[1],h=null,v=((0,c.useContext)(u.aC)||{}).setFieldInConfigState,p=e.apiPath,m=e.checked,b=e.reversed,g=void 0!==b&&b,C=e.configPath,k=void 0===C?"":C,w=e.disabled,N=void 0!==w&&w,x=e.fieldName,j=e.label,y=e.tip,O=e.useSubmit,Z=e.onChange,P=function(){i(null),clearTimeout(h),h=null},E=function(){var e=(0,a.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=6;break}return i((0,s.kg)(s.Jk)),t=g?!n:n,e.next=5,(0,d.Si)({apiPath:p,data:{value:t},onSuccess:function(){v({fieldName:x,value:t,path:k}),i((0,s.kg)(s.zv))},onError:function(e){i((0,s.kg)(s.Un,"There was an error: ".concat(e)))}});case 5:h=setTimeout(P,d.sI);case 6:Z&&Z(n);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=null!==t&&t.type===s.Jk;return(0,f.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[j&&(0,f.jsx)("div",{className:"label-side",children:(0,f.jsx)("span",{className:"formfield-label",children:j})}),(0,f.jsxs)("div",{className:"input-side",children:[(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)(l.Z,{className:"switch field-".concat(x),loading:S,onChange:E,defaultChecked:m,checked:m,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:N}),(0,f.jsx)(o.Z,{status:t})]}),(0,f.jsx)("p",{className:"field-tip",children:y})]})]})}h.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},52819:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var a=t(4942),i=t(4525),r=t(67294),c=t(60764),l=t(65517),s=t(10610),o=t(95828),d=t(60293),u=t(85893);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(){var e=i.Z.Title,n=(0,r.useState)(null),t=n[0],f=n[1],v=((0,r.useContext)(d.aC)||{}).serverConfig,p=v.federation,m=p.enabled,b=p.isPrivate,g=p.username,C=p.goLiveMessage,k=function(e){var n=e.fieldName,i=e.value;f(h(h({},t),{},(0,a.Z)({},n,i)))};return(0,r.useEffect)((function(){f({enabled:m,isPrivate:b,username:g,goLiveMessage:C})}),[v]),t?(0,u.jsxs)("div",{className:"config-server-details-form",children:[(0,u.jsx)(e,{children:"Federation Settings"}),"Explain what the Fediverse is here and talk about what happens if you were to enable this feature.",(0,u.jsxs)("div",{className:"form-module config-server-details-container",children:[(0,u.jsx)(s.Z,h(h({fieldName:"enabled"},o.Kl),{},{checked:t.enabled})),(0,u.jsx)(s.Z,h(h({fieldName:"isPrivate"},o.LC),{},{checked:t.isPrivate})),(0,u.jsx)(l.ZP,h(h({required:!0,fieldName:"username"},o.Xc),{},{value:t.username,initialValue:g,onChange:k})),(0,u.jsx)(l.ZP,h(h({required:!0,fieldName:"goLiveMessage"},o.BF),{},{type:c.Sk,value:t.goLiveMessage,initialValue:C,onChange:k})),(0,u.jsx)("br",{}),(0,u.jsx)("br",{})]})]}):null}},50291:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config-federation",function(){return t(52819)}])}},function(e){e.O(0,[774,888,179],(function(){return n=50291,e(e.s=n);var n}));var n=e.O();_N_E=n}]);