(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{73171:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1413),a=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=n(30076),c=function(e,t){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};c.displayName="DeleteOutlined";var l=a.forwardRef(c)},98082:function(e,t,n){"use strict";var r=n(29439),a=n(67294),o=n(31808);t.Z=function(){var e=a.useState(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1];return a.useEffect((function(){i((0,o.fk)())}),[]),n}},19650:function(e,t,n){"use strict";n.d(t,{u:function(){return h},Z:function(){return x}});var r=n(87462),a=n(4942),o=n(29439),i=n(67294),c=n(94184),l=n.n(c),u=n(50344),s=n(65632);function d(e){var t=e.className,n=e.direction,o=e.index,c=e.marginDirection,l=e.children,u=e.split,s=e.wrap,d=i.useContext(h),p=d.horizontalSize,f=d.verticalSize,v=d.latestIndex,x={};return d.supportFlexGap||("vertical"===n?o<v&&(x={marginBottom:p/(u?2:1)}):x=(0,r.Z)((0,r.Z)({},o<v&&(0,a.Z)({},c,p/(u?2:1))),s&&{paddingBottom:f})),null===l||void 0===l?null:i.createElement(i.Fragment,null,i.createElement("div",{className:t,style:x},l),o<v&&u&&i.createElement("span",{className:"".concat(t,"-split"),style:x},u))}var p=n(98082),f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},h=i.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),v={small:8,middle:16,large:24};var x=function(e){var t,n=i.useContext(s.E_),c=n.getPrefixCls,x=n.space,m=n.direction,y=e.size,g=void 0===y?(null===x||void 0===x?void 0:x.size)||"small":y,w=e.align,Z=e.className,j=e.children,k=e.direction,C=void 0===k?"horizontal":k,b=e.prefixCls,E=e.split,S=e.style,O=e.wrap,z=void 0!==O&&O,I=f(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),N=(0,p.Z)(),_=i.useMemo((function(){return(Array.isArray(g)?g:[g,g]).map((function(e){return function(e){return"string"===typeof e?v[e]:e||0}(e)}))}),[g]),T=(0,o.Z)(_,2),P=T[0],A=T[1],R=(0,u.Z)(j,{keepEmpty:!0}),U=void 0===w&&"horizontal"===C?"center":w,B=c("space",b),F=l()(B,"".concat(B,"-").concat(C),(t={},(0,a.Z)(t,"".concat(B,"-rtl"),"rtl"===m),(0,a.Z)(t,"".concat(B,"-align-").concat(U),U),t),Z),G="".concat(B,"-item"),H="rtl"===m?"marginLeft":"marginRight",L=0,q=R.map((function(e,t){return null!==e&&void 0!==e&&(L=t),i.createElement(d,{className:G,key:"".concat(G,"-").concat(t),direction:C,index:t,marginDirection:H,split:E,wrap:z},e)})),D=i.useMemo((function(){return{horizontalSize:P,verticalSize:A,latestIndex:L,supportFlexGap:N}}),[P,A,L,N]);if(0===R.length)return null;var M={};return z&&(M.flexWrap="wrap",N||(M.marginBottom=-A)),N&&(M.columnGap=P,M.rowGap=A),i.createElement("div",(0,r.Z)({className:F,style:(0,r.Z)((0,r.Z)({},M),S)},I),i.createElement(h.Provider,{value:D},q))}},70701:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(93433),a=n(15861),o=n(87757),i=n.n(o),c=n(73171),l=n(4525),u=n(37614),s=n(4107),d=n(9676),p=n(19650),f=n(71577),h=n(99645),v=n(67294),x=n(91486),m=n(95828),y=n(74071),g=n(60293),w=n(31820),Z=n(85893),j=l.Z.Title,k=l.Z.Paragraph,C=null;function b(e){var t=e.onOk,n=e.onCancel,r=e.visible,a=(0,v.useState)(""),o=a[0],i=a[1],c=(0,v.useState)(""),l=c[0],p=c[1],f=(0,v.useState)(""),h=f[0],x=f[1],m=(0,v.useState)(""),y=m[0],g=m[1],j=(0,v.useState)(""),k=j[0],C=j[1],b=(0,v.useState)(!1),E=b[0],S=b[1];var O={disabled:!function(){try{if("https:"!==new URL(o).protocol)return!1}catch(e){return!1}return(0,w.Z)(o)&&""!==l}()};return(0,Z.jsx)(u.Z,{title:"Create New Action",visible:r,onOk:function(){t(o,l,h,y,k,E),i(""),p(""),x(""),g(""),C(""),S(!1)},onCancel:n,okButtonProps:O,children:(0,Z.jsxs)("div",{children:["Add the URL for the external action you want to present."," ",(0,Z.jsx)("strong",{children:"Only HTTPS urls are supported."}),(0,Z.jsx)("p",{children:(0,Z.jsx)("a",{href:"https://owncast.online/docs",target:"_blank",rel:"noopener noreferrer",children:"Read more about external actions."})}),(0,Z.jsx)("p",{children:(0,Z.jsx)(s.Z,{value:o,required:!0,placeholder:"https://myserver.com/action (required)",onChange:function(e){return i(e.currentTarget.value.trim())},type:"url",pattern:w.a})}),(0,Z.jsx)("p",{children:(0,Z.jsx)(s.Z,{value:l,required:!0,placeholder:"Your action title (required)",onChange:function(e){return p(e.currentTarget.value)}})}),(0,Z.jsx)("p",{children:(0,Z.jsx)(s.Z,{value:h,placeholder:"Optional description",onChange:function(e){return x(e.currentTarget.value)}})}),(0,Z.jsx)("p",{children:(0,Z.jsx)(s.Z,{value:y,placeholder:"https://myserver.com/action/icon.png (optional)",onChange:function(e){return g(e.currentTarget.value)}})}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)(s.Z,{type:"color",value:k,onChange:function(e){return C(e.currentTarget.value)}}),"Optional background color of the action button."]}),(0,Z.jsx)(d.Z,{checked:E,defaultChecked:E,onChange:function(e){S(e.target.checked)},children:"Open in a new tab instead of within your page."})]})})}function E(){var e=(0,v.useContext)(g.aC)||{},t=e.serverConfig,n=e.setFieldInConfigState,o=t.externalActions,l=(0,v.useState)([]),u=l[0],s=l[1],d=(0,v.useState)(!1),w=d[0],E=d[1],S=(0,v.useState)(null),O=S[0],z=S[1],I=function(){z(null),C=null,clearTimeout(C)};function N(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Si)({apiPath:m.os,data:{value:t},onSuccess:function(){n({fieldName:"externalActions",value:t,path:""}),z((0,y.kg)(y.zv,"Updated.")),C=setTimeout(I,m.sI)},onError:function(e){console.log(e),z((0,y.kg)(y.Un,e)),C=setTimeout(I,m.sI)}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,r.Z)(u),a=u.findIndex((function(e){return e.url===t.url})),n.splice(a,1);try{s(n),N(n)}catch(o){console.error(o)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=(0,a.Z)(i().mark((function e(t,n,a,o,c,l){var d,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d=(0,r.Z)(u),p=d.concat({url:t,title:n,description:a,icon:o,color:c,openExternally:l}),s(p),e.next=6,N(p);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}(0,v.useEffect)((function(){s(o||[])}),[o]);var A=[{title:"",key:"delete",render:function(e,t){return(0,Z.jsx)(p.Z,{size:"middle",children:(0,Z.jsx)(f.Z,{onClick:function(){return function(e){return T.apply(this,arguments)}(t)},icon:(0,Z.jsx)(c.Z,{})})})}},{title:"Name",dataIndex:"title",key:"title"},{title:"Description",dataIndex:"description",key:"description"},{title:"URL",dataIndex:"url",key:"url"},{title:"Icon",dataIndex:"icon",key:"icon",render:function(e){return e?(0,Z.jsx)("img",{style:{width:"2vw"},src:e,alt:""}):null}},{title:"Color",dataIndex:"color",key:"color",render:function(e){return e?(0,Z.jsx)("div",{style:{backgroundColor:e,height:"30px"},children:e}):null}},{title:"Opens",dataIndex:"openExternally",key:"openExternally",render:function(e){return e?"In a new tab":"In a modal"}}];return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(j,{children:"External Actions"}),(0,Z.jsx)(k,{children:"External action URLs are 3rd party UI you can display, embedded, into your Owncast page when a user clicks on a button to launch your action."}),(0,Z.jsxs)(k,{children:["Read more about how to use actions, with examples, at"," ",(0,Z.jsx)("a",{href:"https://owncast.online/thirdparty/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"our documentation"}),"."]}),(0,Z.jsx)(h.Z,{rowKey:function(e){return"".concat(e.title,"-").concat(e.url)},columns:A,dataSource:u,pagination:!1}),(0,Z.jsx)("br",{}),(0,Z.jsx)(f.Z,{type:"primary",onClick:function(){E(!0)},children:"Create New Action"}),(0,Z.jsx)(x.Z,{status:O}),(0,Z.jsx)(b,{visible:w,onOk:function(e,t,n,r,a,o){E(!1),function(e,t,n,r,a,o){P.apply(this,arguments)}(e,t,n,r,a,o)},onCancel:function(){E(!1)}})]})}},75056:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/actions",function(){return n(70701)}])}},function(e){e.O(0,[645,614,774,888,179],(function(){return t=75056,e(e.s=t);var t}));var t=e.O();_N_E=t}]);