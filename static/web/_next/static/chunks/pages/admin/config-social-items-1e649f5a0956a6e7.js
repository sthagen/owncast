(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{57838:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(97685),a=n(67294);function i(){var e=a.useReducer(function(e){return e+1},0);return(0,r.Z)(e,2)[1]}},24308:function(e,t,n){"use strict";n.d(t,{c4:function(){return i}});var r=n(4942),a=n(87462),i=["xxl","xl","lg","md","sm","xs"],s={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},o=new Map,l=-1,c={};t.ZP={matchHandlers:{},dispatch:function(e){return c=e,o.forEach(function(e){return e(c)}),o.size>=1},subscribe:function(e){return o.size||this.register(),l+=1,o.set(l,e),e(c),l},unsubscribe:function(e){o.delete(e),o.size||this.unregister()},unregister:function(){var e=this;Object.keys(s).forEach(function(t){var n=s[t],r=e.matchHandlers[n];null==r||r.mql.removeListener(null==r?void 0:r.listener)}),o.clear()},register:function(){var e=this;Object.keys(s).forEach(function(t){var n=s[t],i=function(n){var i=n.matches;e.dispatch((0,a.Z)((0,a.Z)({},c),(0,r.Z)({},t,i)))},o=window.matchMedia(n);o.addListener(i),e.matchHandlers[n]={mql:o,listener:i},i(o)})}}},25378:function(e,t,n){"use strict";var r=n(67294),a=n(57838),i=n(24308);t.Z=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,r.useRef)({}),n=(0,a.Z)();return(0,r.useEffect)(function(){var r=i.ZP.subscribe(function(r){t.current=r,e&&n()});return function(){return i.ZP.unsubscribe(r)}},[]),t.current}},97183:function(e,t,n){"use strict";var r=n(2897),a=n(7293),i=r.ZP;i.Header=r.h4,i.Footer=r.$_,i.Content=r.VY,i.Sider=a.Z,t.Z=i},11382:function(e,t,n){"use strict";var r=n(87462),a=n(4942),i=n(97685),s=n(94184),o=n.n(s),l=n(23279),c=n.n(l),u=n(98423),d=n(67294),f=n(53124),p=n(96159),m=n(93355),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};(0,m.b)("small","default","large");var v=null,x=function(e){var t=e.spinPrefixCls,n=e.spinning,s=void 0===n||n,l=e.delay,m=e.className,x=e.size,b=void 0===x?"default":x,j=e.tip,y=e.wrapperClassName,g=e.style,N=e.children,Z=h(e,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children"]),w=d.useState(function(){return s&&(!s||!l||!!isNaN(Number(l)))}),O=(0,i.Z)(w,2),E=O[0],k=O[1];return d.useEffect(function(){var e=c()(function(){k(s)},l);return e(),function(){var t;null===(t=null==e?void 0:e.cancel)||void 0===t||t.call(e)}},[l,s]),d.createElement(f.C,null,function(n){var i,s,l,c=n.direction,f=o()(t,(l={},(0,a.Z)(l,"".concat(t,"-sm"),"small"===b),(0,a.Z)(l,"".concat(t,"-lg"),"large"===b),(0,a.Z)(l,"".concat(t,"-spinning"),E),(0,a.Z)(l,"".concat(t,"-show-text"),!!j),(0,a.Z)(l,"".concat(t,"-rtl"),"rtl"===c),l),m),h=(0,u.Z)(Z,["indicator","prefixCls"]),x=d.createElement("div",(0,r.Z)({},h,{style:g,className:f,"aria-live":"polite","aria-busy":E}),(i=e.indicator,s="".concat(t,"-dot"),null===i?null:(0,p.l$)(i)?(0,p.Tm)(i,{className:o()(i.props.className,s)}):(0,p.l$)(v)?(0,p.Tm)(v,{className:o()(v.props.className,s)}):d.createElement("span",{className:o()(s,"".concat(t,"-dot-spin"))},d.createElement("i",{className:"".concat(t,"-dot-item")}),d.createElement("i",{className:"".concat(t,"-dot-item")}),d.createElement("i",{className:"".concat(t,"-dot-item")}),d.createElement("i",{className:"".concat(t,"-dot-item")}))),j?d.createElement("div",{className:"".concat(t,"-text")},j):null);if(void 0!==N){var w=o()("".concat(t,"-container"),(0,a.Z)({},"".concat(t,"-blur"),E));return d.createElement("div",(0,r.Z)({},h,{className:o()("".concat(t,"-nested-loading"),y)}),E&&d.createElement("div",{key:"loading"},x),d.createElement("div",{className:w,key:"container"},N))}return x})},b=function(e){var t=e.prefixCls,n=(0,d.useContext(f.E_).getPrefixCls)("spin",t),a=(0,r.Z)((0,r.Z)({},e),{spinPrefixCls:n});return d.createElement(x,(0,r.Z)({},a))};b.setDefaultIndicator=function(e){v=e},t.Z=b},93645:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var r={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function a(e){return e?r[e]:r.trunc}},59910:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(19013),a=n(13882);function i(e,t){return(0,a.Z)(2,arguments),(0,r.Z)(e).getTime()-(0,r.Z)(t).getTime()}},11699:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(59910),a=n(13882),i=n(93645);function s(e,t,n){(0,a.Z)(2,arguments);var s=(0,r.Z)(e,t)/1e3;return(0,i.u)(null==n?void 0:n.roundingMethod)(s)}},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},44239:function(e,t,n){var r=n(62705),a=n(89607),i=n(2333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):i(e)}},27561:function(e,t,n){var r=n(67990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:function(e,t,n){var r=n(62705),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(e){}var a=s.call(e);return r&&(t?e[o]=n:delete e[o]),a}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,n){var r=n(31957),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var r=n(13218),a=n(7771),i=n(14841),s=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,u,d,f,p,m=0,h=!1,v=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var n=l,r=c;return l=c=void 0,m=t,d=e.apply(r,n)}function j(e){var n=e-p,r=e-m;return void 0===p||n>=t||n<0||v&&r>=u}function y(){var e,n,r,i=a();if(j(i))return g(i);f=setTimeout(y,(e=i-p,n=i-m,r=t-e,v?o(r,u-n):r))}function g(e){return(f=void 0,x&&l)?b(e):(l=c=void 0,d)}function N(){var e,n=a(),r=j(n);if(l=arguments,c=this,p=n,r){if(void 0===f)return m=e=p,f=setTimeout(y,t),h?b(e):d;if(v)return clearTimeout(f),f=setTimeout(y,t),b(p)}return void 0===f&&(f=setTimeout(y,t)),d}return t=i(t)||0,r(n)&&(h=!!n.leading,u=(v="maxWait"in n)?s(i(n.maxWait)||0,t):u,x="trailing"in n?!!n.trailing:x),N.cancel=function(){void 0!==f&&clearTimeout(f),m=0,l=p=c=f=void 0},N.flush=function(){return void 0===f?d:g(a())},N}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var r=n(44239),a=n(37005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(55639);e.exports=function(){return r.Date.now()}},14841:function(e,t,n){var r=n(27561),a=n(13218),i=n(33448),s=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return s;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):o.test(e)?s:+e}},81009:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-social-items",function(){return n(87945)}])},49817:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(85893),a=n(67294),i=n(85818),s=n(71577),o=n(79531),l=n(54398),c=n(85402),u=n(5152),d=n.n(u),f=n(34041),p=n(90745);let m=e=>{let{iconList:t,selectedOption:n,onSelected:a}=e,i=e=>{a&&a(e)},s=""===n?null:n;return(0,r.jsxs)("div",{className:"social-dropdown-container",children:[(0,r.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,r.jsxs)("div",{className:"formfield-container",children:[(0,r.jsx)("div",{className:"label-side",children:(0,r.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,r.jsx)("div",{className:"input-side",children:(0,r.jsxs)(f.Z,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:s,value:s,onSelect:i,children:[t.map(e=>{let{platform:t,icon:n,key:a}=e;return(0,r.jsxs)(f.Z.Option,{className:"social-option",value:a,children:[(0,r.jsx)("span",{className:"option-icon",children:(0,r.jsx)("img",{src:n,alt:"",className:"option-icon"})}),(0,r.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(a))}),(0,r.jsx)(f.Z.Option,{className:"social-option",value:p.z_,children:"Other..."},"platform-".concat(p.z_))]})})]})]})};var h=n(64777),v=n(99519),x=n(37174),b=n(79139),j=n(41983),y=n(73615);let{Title:g}=i.Z,N=d()(()=>Promise.all([n.e(2074),n.e(8244)]).then(n.t.bind(n,18244,23)),{loadableGenerated:{webpack:()=>[18244]},ssr:!1}),Z=d()(()=>Promise.all([n.e(2074),n.e(2802)]).then(n.t.bind(n,22802,23)),{loadableGenerated:{webpack:()=>[22802]},ssr:!1}),w=d()(()=>Promise.all([n.e(2074),n.e(7949)]).then(n.t.bind(n,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1});function O(){var e,t;let[n,i]=(0,a.useState)([]),[u,d]=(0,a.useState)([]),[f,O]=(0,a.useState)(!1),[E,k]=(0,a.useState)(!1),[S,T]=(0,a.useState)(!1),[C,_]=(0,a.useState)(-1),[P,z]=(0,a.useState)(p.wC),[I,H]=(0,a.useState)(null),M=(0,a.useContext)(v.aC),{serverConfig:L,setFieldInConfigState:R}=M||{},{instanceDetails:$}=L,{socialHandles:U}=$,A=async()=>{try{let e=await (0,h.rQ)(h.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));i(t)}catch(e){console.log(e)}},D=e=>n.find(t=>t.key===e)||!1,W=""!==P.platform&&!n.find(e=>e.key===P.platform);(0,a.useEffect)(()=>{A()},[]),(0,a.useEffect)(()=>{$.socialHandles&&d(U)},[$]);let V=()=>{H(null),clearTimeout(null)},q=()=>{O(!1),_(-1),k(!1),T(!1),z({...p.wC})},F=()=>{q()},G=(e,t)=>{z({...P,[e]:t})},Y=e=>{e===p.z_?(k(!0),G("platform","")):(k(!1),G("platform",e))},B=e=>{let{value:t}=e.target;G("platform",t)},K=e=>{let{value:t}=e;G("url",t)},X=async e=>{await (0,p.Si)({apiPath:p.c9,data:{value:e},onSuccess:()=>{R({fieldName:"socialHandles",value:e,path:"instanceDetails"}),T(!1),F(),H((0,j.kg)(j.zv)),setTimeout(V,p.sI)},onError:e=>{H((0,j.kg)(j.Un,"There was an error: ".concat(e))),T(!1),setTimeout(V,p.sI)}})},Q=()=>{T(!0);let e=u.length?[...u]:[];-1===C?e.push(P):e.splice(C,1,P),X(e)},J=e=>{let t=[...u];t.splice(e,1),X(t)},ee=e=>{if(e<=0||e>=u.length)return;let t=[...u],n=t[e-1];t[e-1]=t[e],t[e]=n,X(t)},et=e=>{if(e<0||e>=u.length-1)return;let t=[...u],n=t[e+1];t[e+1]=t[e],t[e]=n,X(t)},en={disabled:(e=P.url,"xmpp"===(t=P.platform)?!(0,x.Kf)(e,"xmpp"):"matrix"===t?!(0,x.bu)(e):!(0,x.jv)(e))},er=(0,r.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,r.jsx)("div",{className:"label-side"}),(0,r.jsx)("div",{className:"input-side",children:(0,r.jsx)(o.Z,{placeholder:"Other platform name",defaultValue:P.platform,onChange:B})})]});return(0,r.jsxs)("div",{className:"social-links-edit-container",children:[(0,r.jsx)(g,{level:3,className:"section-title",children:"Your Social Handles"}),(0,r.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,r.jsx)(y.E,{status:I}),(0,r.jsx)(l.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:n,url:a}=t,i=D(n);if(!i)return(0,r.jsx)("div",{className:"social-handle-cell",children:(0,r.jsxs)("p",{className:"option-label",children:[(0,r.jsx)("strong",{children:n}),(0,r.jsx)("span",{className:"handle-url",title:a,children:a})]})});let{icon:s,platform:o}=i;return(0,r.jsxs)("div",{className:"social-handle-cell",children:[(0,r.jsx)("span",{className:"option-icon",children:(0,r.jsx)("img",{src:s,alt:"",className:"option-icon"})}),(0,r.jsxs)("p",{className:"option-label",children:[(0,r.jsx)("strong",{children:o}),(0,r.jsx)("span",{className:"handle-url",title:a,children:a})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,n)=>(0,r.jsxs)("div",{className:"actions",children:[(0,r.jsx)(s.Z,{size:"small",onClick:()=>{let e=u[n];_(n),z({...e}),O(!0),D(e.platform)||k(!0)},children:"Edit"}),(0,r.jsx)(s.Z,{icon:(0,r.jsx)(Z,{}),size:"small",hidden:0===n,onClick:()=>ee(n)}),(0,r.jsx)(s.Z,{icon:(0,r.jsx)(N,{}),size:"small",hidden:n===u.length-1,onClick:()=>et(n)}),(0,r.jsx)(s.Z,{className:"delete-button",icon:(0,r.jsx)(w,{}),size:"small",onClick:()=>J(n)})]})}],dataSource:u}),(0,r.jsx)(c.Z,{title:"Edit Social Handle",open:f,onOk:Q,onCancel:F,confirmLoading:S,okButtonProps:en,children:(0,r.jsxs)("div",{className:"social-handle-modal-content",children:[(0,r.jsx)(m,{iconList:n,selectedOption:W?p.z_:P.platform,onSelected:Y}),E&&er,(0,r.jsx)("br",{}),(0,r.jsx)(b.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[P.platform]||"Url to page",value:P.url,onChange:K,useTrim:!0,type:"url",pattern:x.ax}),(0,r.jsx)(y.E,{status:I})]})}),(0,r.jsx)("br",{}),(0,r.jsx)(s.Z,{type:"primary",onClick:()=>{q(),O(!0)},children:"Add a new social link"})]})}},87945:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(85893);n(67294);var a=n(85818),i=n(49817),s=n(6960);let{Title:o}=a.Z;function l(){return(0,r.jsxs)("div",{className:"config-social-items",children:[(0,r.jsx)(o,{children:"Social Items"}),(0,r.jsx)(i.Z,{})]})}l.getLayout=function(e){return(0,r.jsx)(s.l,{page:e})}},9008:function(e,t,n){e.exports=n(83121)},11163:function(e,t,n){e.exports=n(80880)},92703:function(e,t,n){"use strict";var r=n(50414);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[173,164,2744,9680,4931,5402,2231,5818,492,7524,9915,4041,3698,3013,4398,180,6960,9774,2888,179],function(){return e(e.s=81009)}),_N_E=e.O()}]);