(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2532],{15746:function(e,n,t){"use strict";var a=t(21584);n.Z=a.Z},97183:function(e,n,t){"use strict";var a=t(2897),r=t(7293),s=a.ZP;s.Header=a.h4,s.Footer=a.$_,s.Content=a.VY,s.Sider=r.Z,n.Z=s},71230:function(e,n,t){"use strict";var a=t(92820);n.Z=a.Z},94594:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var a=t(87462),r=t(4942),s=t(50888),l=t(94184),o=t.n(l),i=t(97685),c=t(45987),u=t(67294),d=t(21770),h=t(15105),f=u.forwardRef(function(e,n){var t,a=e.prefixCls,s=void 0===a?"rc-switch":a,l=e.className,f=e.checked,p=e.defaultChecked,m=e.disabled,g=e.loadingIcon,b=e.checkedChildren,v=e.unCheckedChildren,x=e.onClick,y=e.onChange,w=e.onKeyDown,j=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),Z=(0,d.Z)(!1,{value:f,defaultValue:p}),k=(0,i.Z)(Z,2),C=k[0],N=k[1];function E(e,n){var t=C;return m||(N(t=e),null==y||y(t,n)),t}var O=o()(s,l,(t={},(0,r.Z)(t,"".concat(s,"-checked"),C),(0,r.Z)(t,"".concat(s,"-disabled"),m),t));return u.createElement("button",Object.assign({},j,{type:"button",role:"switch","aria-checked":C,disabled:m,className:O,ref:n,onKeyDown:function(e){e.which===h.Z.LEFT?E(!1,e):e.which===h.Z.RIGHT&&E(!0,e),null==w||w(e)},onClick:function(e){var n=E(!C,e);null==x||x(n,e)}}),g,u.createElement("span",{className:"".concat(s,"-inner")},C?b:v))});f.displayName="Switch";var p=t(53124),m=t(98866),g=t(97647),b=t(68349),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>n.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},x=u.forwardRef(function(e,n){var t,l=e.prefixCls,i=e.size,c=e.disabled,d=e.loading,h=e.className,x=v(e,["prefixCls","size","disabled","loading","className"]),y=u.useContext(p.E_),w=y.getPrefixCls,j=y.direction,Z=u.useContext(g.Z),k=u.useContext(m.Z),C=(null!=c?c:k)||d,N=w("switch",l),E=u.createElement("div",{className:"".concat(N,"-handle")},d&&u.createElement(s.Z,{className:"".concat(N,"-loading-icon")})),O=o()((t={},(0,r.Z)(t,"".concat(N,"-small"),"small"===(i||Z)),(0,r.Z)(t,"".concat(N,"-loading"),d),(0,r.Z)(t,"".concat(N,"-rtl"),"rtl"===j),t),void 0===h?"":h);return u.createElement(b.Z,{insertExtraNode:!0},u.createElement(f,(0,a.Z)({},x,{prefixCls:N,className:O,disabled:C,ref:n,loadingIcon:E})))});x.__ANT_SWITCH=!0;var y=x},20550:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var a=t(4942),r=t(87462),s=t(97685),l=t(97937),o=t(94184),i=t.n(o),c=t(98423),u=t(67294),d=t(53124),h=t(98787),f=t(68349),p=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>n.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},m=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>n.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},g=new RegExp("^(".concat(h.Y.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(h.E.join("|"),")$")),v=u.forwardRef(function(e,n){var t,o=e.prefixCls,h=e.className,p=e.style,v=e.children,x=e.icon,y=e.color,w=e.onClose,j=e.closeIcon,Z=e.closable,k=void 0!==Z&&Z,C=m(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),N=u.useContext(d.E_),E=N.getPrefixCls,O=N.direction,S=u.useState(!0),P=(0,s.Z)(S,2),T=P[0],_=P[1];u.useEffect(function(){"visible"in C&&_(C.visible)},[C.visible]);var I=function(){return!!y&&(g.test(y)||b.test(y))},U=(0,r.Z)({backgroundColor:y&&!I()?y:void 0},p),D=I(),F=E("tag",o),R=i()(F,(t={},(0,a.Z)(t,"".concat(F,"-").concat(y),D),(0,a.Z)(t,"".concat(F,"-has-color"),y&&!D),(0,a.Z)(t,"".concat(F,"-hidden"),!T),(0,a.Z)(t,"".concat(F,"-rtl"),"rtl"===O),t),h),L=function(e){e.stopPropagation(),null==w||w(e),!e.defaultPrevented&&("visible"in C||_(!1))},M="onClick"in C||v&&"a"===v.type,Y=(0,c.Z)(C,["visible"]),K=x||null,V=K?u.createElement(u.Fragment,null,K,u.createElement("span",null,v)):v,$=u.createElement("span",(0,r.Z)({},Y,{ref:n,className:R,style:U}),V,k?j?u.createElement("span",{className:"".concat(F,"-close-icon"),onClick:L},j):u.createElement(l.Z,{className:"".concat(F,"-close-icon"),onClick:L}):null);return M?u.createElement(f.Z,null,$):$});v.CheckableTag=function(e){var n,t=e.prefixCls,s=e.className,l=e.checked,o=e.onChange,c=e.onClick,h=p(e,["prefixCls","className","checked","onChange","onClick"]),f=(0,u.useContext(d.E_).getPrefixCls)("tag",t),m=i()(f,(n={},(0,a.Z)(n,"".concat(f,"-checkable"),!0),(0,a.Z)(n,"".concat(f,"-checkable-checked"),l),n),s);return u.createElement("span",(0,r.Z)({},h,{className:m,onClick:function(e){null==o||o(!l),null==c||c(e)}}))};var x=v},13882:function(e,n,t){"use strict";function a(e,n){if(n.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}t.d(n,{Z:function(){return a}})},93645:function(e,n,t){"use strict";t.d(n,{u:function(){return r}});var a={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function r(e){return e?a[e]:a.trunc}},59910:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var a=t(19013),r=t(13882);function s(e,n){return(0,r.Z)(2,arguments),(0,a.Z)(e).getTime()-(0,a.Z)(n).getTime()}},11699:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(59910),r=t(13882),s=t(93645);function l(e,n,t){(0,r.Z)(2,arguments);var l=(0,a.Z)(e,n)/1e3;return(0,s.u)(null==t?void 0:t.roundingMethod)(l)}},19013:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var a=t(71002),r=t(13882);function s(e){(0,r.Z)(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,a.Z)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},18957:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-federation",function(){return t(78810)}])},4349:function(e,n,t){"use strict";t.d(n,{Q:function(){return u},Y:function(){return d}});var a=t(85893),r=t(67294),s=t(85818),l=t(20550),o=t(67032),i=t(57520);let{Title:c}=s.Z,u="#5a67d8",d=e=>{let{title:n,description:t,placeholder:s,maxLength:d,values:h,handleDeleteIndex:f,handleCreateString:p,submitStatus:m,continuousStatusMessage:g}=e,[b,v]=(0,r.useState)("");return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(c,{level:3,className:"section-title",children:n}),(0,a.jsx)("p",{className:"description",children:t}),(0,a.jsx)("div",{className:"edit-current-strings",children:null==h?void 0:h.map((e,n)=>(0,a.jsx)(l.Z,{closable:!0,onClose:()=>{f(n)},color:u,children:e},"tag-".concat(e,"-").concat(n)))}),g&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(i.E,{status:g})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(o.nv,{fieldName:"string-input",value:b,onChange:e=>{let{value:n}=e;v(n)},onPressEnter:()=>{let e=b.trim();p(e),v("")},maxLength:d,placeholder:s,status:m})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},44716:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var a=t(85893),r=t(67294),s=t(94594),l=t(91332),o=t(57520),i=t(24044),c=t(38631);let u=e=>{let{apiPath:n,checked:t,reversed:u=!1,configPath:d="",disabled:h=!1,fieldName:f,label:p,tip:m,useSubmit:g,onChange:b}=e,[v,x]=(0,r.useState)(null),y=null,w=(0,r.useContext)(c.a),{setFieldInConfigState:j}=w||{},Z=()=>{x(null),clearTimeout(y),y=null},k=async e=>{if(g){x((0,l.kg)(l.Jk));let t=u?!e:e;await (0,i.Si)({apiPath:n,data:{value:t},onSuccess:()=>{j({fieldName:f,value:t,path:d}),x((0,l.kg)(l.zv))},onError:e=>{x((0,l.kg)(l.Un,"There was an error: ".concat(e)))}}),y=setTimeout(Z,i.sI)}b&&b(e)},C=null!==v&&v.type===l.Jk;return(0,a.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[p&&(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:p})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)(s.Z,{className:"switch field-".concat(f),loading:C,onChange:k,defaultChecked:t,checked:t,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:h}),(0,a.jsx)(o.E,{status:v})]}),(0,a.jsx)("p",{className:"field-tip",children:m})]})]})};u.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},78810:function(e,n,t){"use strict";t.r(n);var a=t(85893),r=t(85402),s=t(71577),l=t(85818),o=t(14670),i=t(71230),c=t(15746),u=t(67294),d=t(67032),h=t(78353),f=t(44716),p=t(4349),m=t(24044),g=t(38631),b=t(91332),v=t(34261);let x=e=>{let{cancelPressed:n,okPressed:t}=e;return(0,a.jsxs)(r.Z,{width:"70%",title:"Enable Social Features",visible:!0,onCancel:n,footer:(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{onClick:n,children:"Do not enable"}),(0,a.jsx)(s.Z,{type:"primary",onClick:t,children:"Enable Social Features"})]}),children:[(0,a.jsx)(l.Z.Title,{level:3,children:"How do Owncast's social features work?"}),(0,a.jsxs)(l.Z.Paragraph,{children:["Owncast's social features are accomplished by having your server join The"," ",(0,a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Fediverse",rel:"noopener noreferrer",target:"_blank",children:"Fediverse"}),", a decentralized, open, collection of independent servers, like yours."]}),"Please"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"read more"})," ","about these features, the details behind them, and how they work.",(0,a.jsx)(l.Z.Paragraph,{}),(0,a.jsx)(l.Z.Title,{level:3,children:"What do you need to know?"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"These features are brand new. Given the variability of interfacing with the rest of the world, bugs are possible. Please report anything that you think isn't working quite right."}),(0,a.jsx)("li",{children:"You must always host your Owncast server with SSL using a https url."}),(0,a.jsx)("li",{children:"You should not change your server name URL or social username once people begin following you, as your server will be seen as a completely different user on the Fediverse, and the old user will disappear."}),(0,a.jsxs)("li",{children:["Turning on ",(0,a.jsx)("i",{children:"Private mode"})," will allow you to manually approve each follower and limit the visibility of your posts to followers only."]})]}),(0,a.jsx)(l.Z.Title,{level:3,children:"Learn more about The Fediverse"}),(0,a.jsxs)(l.Z.Paragraph,{children:["If these concepts are new you should discover more about what this functionality has to offer. Visit"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"our documentation"})," ","to be pointed at some resources that will help get you started on The Fediverse."]})]})},y=()=>{let{Title:e}=l.Z,[n,t]=(0,u.useState)(null),[r,s]=(0,u.useState)(!1),v=(0,u.useContext)(g.a),{serverConfig:y,setFieldInConfigState:w}=v||{},[j,Z]=(0,u.useState)(null),{federation:k,yp:C,instanceDetails:N}=y,{enabled:E,isPrivate:O,username:S,goLiveMessage:P,showEngagement:T,blockedDomains:_}=k,{instanceUrl:I}=C,{nsfw:U}=N,D=e=>{let{fieldName:a,value:r}=e;t({...n,[a]:r})};function F(){Z(null)}function R(){try{(0,m.Si)({apiPath:m.pE,data:{value:n.blockedDomains},onSuccess:()=>{w({fieldName:"forbiddenUsernames",value:n.forbiddenUsernames}),Z(b.zv),setTimeout(F,m.sI)},onError:e=>{Z((0,b.kg)(b.Un,e)),setTimeout(F,m.sI)}})}catch(e){console.error(e),Z(b.Un)}}if((0,u.useEffect)(()=>{t({enabled:E,isPrivate:O,username:S,goLiveMessage:P,showEngagement:T,blockedDomains:_,nsfw:U,instanceUrl:C.instanceUrl})},[y,C]),!n)return null;let L=""!==I,M=I.startsWith("https://"),Y=!M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{message:"You must set your server URL before you can enable this feature.",type:"warning",showIcon:!0}),(0,a.jsx)("br",{}),(0,a.jsx)(h.$7,{fieldName:"instanceUrl",...m.yi,value:n.instanceUrl,initialValue:C.instanceUrl,type:d.xA,onChange:D,onSubmit:()=>{let e=""!==n.instanceUrl,a=n.instanceUrl.startsWith("https://");e&&a||((0,m.Si)({apiPath:m.Kl.apiPath,data:{value:!1}}),t({...n,enabled:!1}))},required:!0})]}),K=(0,a.jsx)(o.Z,{message:"Only Owncast instances available on the default SSL port 443 support this feature.",type:"warning",showIcon:!0}),V=I&&""!==new URL(I).port&&"443"!==new URL(I).port;return(0,a.jsxs)("div",{children:[(0,a.jsx)(e,{children:"Configure Social Features"}),(0,a.jsx)("p",{children:"Owncast provides the ability for people to follow and engage with your instance. It's a great way to promote alerting, sharing and engagement of your stream."}),(0,a.jsx)("p",{children:"Once enabled you'll alert your followers when you go live as well as gain the ability to compose custom posts to share any information you like."}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"Read more about the specifics of these social features."})}),(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)(c.Z,{span:15,className:"form-module",style:{marginRight:"15px"},children:[Y,V&&K,(0,a.jsx)(f.Z,{fieldName:"enabled",onChange:e=>{e?s(!0):t({...n,enabled:!1})},...m.Kl,checked:n.enabled,disabled:V||!L||!M}),(0,a.jsx)(f.Z,{fieldName:"isPrivate",...m.LC,checked:n.isPrivate,disabled:!E}),(0,a.jsx)(f.Z,{fieldName:"nsfw",useSubmit:!0,...m.B_,checked:n.nsfw,disabled:V||!L}),(0,a.jsx)(h.$7,{required:!0,fieldName:"username",type:d.Kx,...m.Xc,value:n.username,initialValue:S,onChange:D,disabled:!E}),(0,a.jsx)(h.$7,{fieldName:"goLiveMessage",...m.BF,type:d.Sk,value:n.goLiveMessage,initialValue:P,onChange:D,disabled:!E}),(0,a.jsx)(f.Z,{fieldName:"showEngagement",...m.FE,checked:n.showEngagement,disabled:!E})]}),(0,a.jsx)(c.Z,{span:8,className:"form-module",children:(0,a.jsx)(p.Y,{title:m.dR.label,placeholder:m.dR.placeholder,description:m.dR.tip,values:n.blockedDomains,handleDeleteIndex:function(e){n.blockedDomains.splice(e,1),R()},handleCreateString:function(e){let t;try{let n=new URL(e);t=n.host}catch(n){t=e}n.blockedDomains.push(t),D({fieldName:"blockedDomains",value:n.blockedDomains}),R()},submitStatus:(0,b.kg)(j)})})]}),r&&(0,a.jsx)(x,{cancelPressed:function(){s(!1),t({...n,enabled:!1})},okPressed:function(){s(!1),t({...n,enabled:!0})}})]})};y.getLayout=function(e){return(0,a.jsx)(v.l,{page:e})},n.default=y},11163:function(e,n,t){e.exports=t(96885)}},function(e){e.O(0,[173,5874,7311,5634,4931,5402,5257,1664,5348,9915,4261,9774,2888,179],function(){return e(e.s=18957)}),_N_E=e.O()}]);