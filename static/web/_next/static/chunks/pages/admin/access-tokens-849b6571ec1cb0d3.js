(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9882],{26803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"}},56338:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=a(5661))&&n.__esModule?n:{default:n};t.default=r,e.exports=r},5661:function(e,t,a){"use strict";var n=a(64836),r=a(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(42122)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=l?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}(a(67294)),c=n(a(26803)),s=n(a(92074));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var i=function(e,t){return o.createElement(s.default,(0,l.default)((0,l.default)({},e),{},{ref:t,icon:c.default}))};i.displayName="UpOutlined";var d=o.forwardRef(i);t.default=d},5789:function(e,t,a){"use strict";t.Z=void 0;var n=a(38614).Col;t.Z=n},8799:function(e,t,a){"use strict";var n=a(75263).default,r=a(64836).default;t.Z=void 0;var l=r(a(10434)),o=r(a(38416)),c=r(a(18698)),s=r(a(27424)),u=r(a(5085)),i=r(a(56338)),d=r(a(94184)),f=r(a(82122)),p=n(a(67294)),m=a(31929),v=r(a(93319)),y=r(a(3236)),h=a(51130),b=a(46549),x=a(47419),g=a(71434),w=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},O=p.forwardRef(function(e,t){var a=p.useContext(m.ConfigContext),n=a.getPrefixCls,r=a.direction,O=p.useContext(y.default),j=p.useState(!1),C=(0,s.default)(j,2),k=C[0],E=C[1],S=p.useRef(null);p.useImperativeHandle(t,function(){return S.current});var N=e.className,P=e.size,_=e.disabled,I=e.prefixCls,M=e.addonBefore,T=e.addonAfter,Z=e.prefix,A=e.bordered,F=void 0===A||A,R=e.readOnly,H=e.status,z=e.controls,B=w(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),D=n("input-number",I),L=(0,b.useCompactItemContext)(D,r),U=L.compactSize,G=L.compactItemClassnames,W=p.createElement(i.default,{className:"".concat(D,"-handler-up-inner")}),Q=p.createElement(u.default,{className:"".concat(D,"-handler-down-inner")}),X="boolean"==typeof z?z:void 0;"object"===(0,c.default)(z)&&(W=void 0===z.upIcon?W:p.createElement("span",{className:"".concat(D,"-handler-up-inner")},z.upIcon),Q=void 0===z.downIcon?Q:p.createElement("span",{className:"".concat(D,"-handler-down-inner")},z.downIcon));var $=(0,p.useContext)(h.FormItemInputContext),K=$.hasFeedback,Y=$.status,q=$.isFormItemInput,J=$.feedbackIcon,V=(0,g.getMergedStatus)(Y,H),ee=U||P||O,et=p.useContext(v.default),ea=null!=_?_:et,en=(0,d.default)((el={},(0,o.default)(el,"".concat(D,"-lg"),"large"===ee),(0,o.default)(el,"".concat(D,"-sm"),"small"===ee),(0,o.default)(el,"".concat(D,"-rtl"),"rtl"===r),(0,o.default)(el,"".concat(D,"-borderless"),!F),(0,o.default)(el,"".concat(D,"-in-form-item"),q),el),(0,g.getStatusClassNames)(D,V),G,N),er=p.createElement(f.default,(0,l.default)({ref:S,disabled:ea,className:en,upHandler:W,downHandler:Q,prefixCls:D,readOnly:R,controls:X},B));if(null!=Z||K){var el,eo,ec=(0,d.default)("".concat(D,"-affix-wrapper"),(0,g.getStatusClassNames)("".concat(D,"-affix-wrapper"),V,K),(eo={},(0,o.default)(eo,"".concat(D,"-affix-wrapper-focused"),k),(0,o.default)(eo,"".concat(D,"-affix-wrapper-disabled"),e.disabled),(0,o.default)(eo,"".concat(D,"-affix-wrapper-sm"),"small"===O),(0,o.default)(eo,"".concat(D,"-affix-wrapper-lg"),"large"===O),(0,o.default)(eo,"".concat(D,"-affix-wrapper-rtl"),"rtl"===r),(0,o.default)(eo,"".concat(D,"-affix-wrapper-readonly"),R),(0,o.default)(eo,"".concat(D,"-affix-wrapper-borderless"),!F),(0,o.default)(eo,"".concat(N),!(M||T)&&N),eo));er=p.createElement("div",{className:ec,style:e.style,onMouseUp:function(){return S.current.focus()}},Z&&p.createElement("span",{className:"".concat(D,"-prefix")},Z),(0,x.cloneElement)(er,{style:null,value:e.value,onFocus:function(t){var a;E(!0),null===(a=e.onFocus)||void 0===a||a.call(e,t)},onBlur:function(t){var a;E(!1),null===(a=e.onBlur)||void 0===a||a.call(e,t)}}),K&&p.createElement("span",{className:"".concat(D,"-suffix")},J))}if(null!=M||null!=T){var es,eu="".concat(D,"-group"),ei="".concat(eu,"-addon"),ed=M?p.createElement("div",{className:ei},M):null,ef=T?p.createElement("div",{className:ei},T):null,ep=(0,d.default)("".concat(D,"-wrapper"),eu,(0,o.default)({},"".concat(eu,"-rtl"),"rtl"===r)),em=(0,d.default)("".concat(D,"-group-wrapper"),(es={},(0,o.default)(es,"".concat(D,"-group-wrapper-sm"),"small"===O),(0,o.default)(es,"".concat(D,"-group-wrapper-lg"),"large"===O),(0,o.default)(es,"".concat(D,"-group-wrapper-rtl"),"rtl"===r),es),(0,g.getStatusClassNames)("".concat(D,"-group-wrapper"),V,K),N);er=p.createElement("div",{className:em,style:e.style},p.createElement("div",{className:ep},ed&&p.createElement(b.NoCompactStyle,null,p.createElement(h.NoFormStyle,{status:!0,override:!0},ed)),(0,x.cloneElement)(er,{style:null,disabled:ea}),ef&&p.createElement(b.NoCompactStyle,null,p.createElement(h.NoFormStyle,{status:!0,override:!0},ef))))}return er});t.Z=O},16373:function(e,t,a){"use strict";var n=a(64836).default,r=a(75263).default;t.default=void 0;var l=r(a(62704)),o=n(a(87412)),c=l.default;c.Header=l.Header,c.Footer=l.Footer,c.Content=l.Content,c.Sider=o.default,t.default=c},55673:function(e,t,a){"use strict";t.Z=void 0;var n=a(38614).Row;t.Z=n},83514:function(e,t,a){"use strict";var n=a(75263).default,r=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10434)),o=r(a(38416)),c=r(a(94184)),s=n(a(67294)),u=a(31929),i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};t.default=function(e){var t,a=e.prefixCls,n=e.className,r=e.checked,d=e.onChange,f=e.onClick,p=i(e,["prefixCls","className","checked","onChange","onClick"]),m=(0,s.useContext(u.ConfigContext).getPrefixCls)("tag",a),v=(0,c.default)(m,(t={},(0,o.default)(t,"".concat(m,"-checkable"),!0),(0,o.default)(t,"".concat(m,"-checkable-checked"),r),t),n);return s.createElement("span",(0,l.default)({},p,{className:v,onClick:function(e){null==d||d(!r),null==f||f(e)}}))}},59361:function(e,t,a){"use strict";var n=a(75263).default,r=a(64836).default;t.Z=void 0;var l=r(a(38416)),o=r(a(10434)),c=r(a(27424)),s=r(a(40753)),u=r(a(94184)),i=r(a(18475)),d=n(a(67294)),f=a(31929),p=a(45471),m=r(a(61539));r(a(13594));var v=r(a(83514)),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},h=new RegExp("^(".concat(p.PresetColorTypes.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(p.PresetStatusColorTypes.join("|"),")$")),x=d.forwardRef(function(e,t){var a,n=e.prefixCls,r=e.className,p=e.style,v=e.children,x=e.icon,g=e.color,w=e.onClose,O=e.closeIcon,j=e.closable,C=void 0!==j&&j,k=y(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),E=d.useContext(f.ConfigContext),S=E.getPrefixCls,N=E.direction,P=d.useState(!0),_=(0,c.default)(P,2),I=_[0],M=_[1];d.useEffect(function(){"visible"in k&&M(k.visible)},[k.visible]);var T=function(){return!!g&&(h.test(g)||b.test(g))},Z=(0,o.default)({backgroundColor:g&&!T()?g:void 0},p),A=T(),F=S("tag",n),R=(0,u.default)(F,(a={},(0,l.default)(a,"".concat(F,"-").concat(g),A),(0,l.default)(a,"".concat(F,"-has-color"),g&&!A),(0,l.default)(a,"".concat(F,"-hidden"),!I),(0,l.default)(a,"".concat(F,"-rtl"),"rtl"===N),a),r),H=function(e){e.stopPropagation(),null==w||w(e),!e.defaultPrevented&&("visible"in k||M(!1))},z="onClick"in k||v&&"a"===v.type,B=(0,i.default)(k,["visible"]),D=x||null,L=D?d.createElement(d.Fragment,null,D,d.createElement("span",null,v)):v,U=d.createElement("span",(0,o.default)({},B,{ref:t,className:R,style:Z}),L,C?O?d.createElement("span",{className:"".concat(F,"-close-icon"),onClick:H},O):d.createElement(s.default,{className:"".concat(F,"-close-icon"),onClick:H}):null);return z?d.createElement(m.default,null,U):U});x.CheckableTag=v.default,t.Z=x},89277:function(e,t,a){"use strict";var n=a(75263).default,r=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10434));r(a(18698));var o=n(a(67294));r(a(13594));var c=r(a(28460)),s=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},u=o.forwardRef(function(e,t){var a=e.ellipsis,n=e.rel,r=s(e,["ellipsis","rel"]),u=(0,l.default)((0,l.default)({},r),{rel:void 0===n&&"_blank"===r.target?"noopener noreferrer":n});return delete u.navigate,o.createElement(c.default,(0,l.default)({},u,{ref:t,ellipsis:!!a,component:"a"}))});t.default=u},21987:function(e,t,a){"use strict";var n=a(75263).default,r=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10434)),o=n(a(67294)),c=r(a(28460)),s=o.forwardRef(function(e,t){return o.createElement(c.default,(0,l.default)({ref:t},e,{component:"div"}))});t.default=s},15394:function(e,t,a){"use strict";var n=a(75263).default,r=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(10434)),o=r(a(18698)),c=r(a(18475)),s=n(a(67294));r(a(13594));var u=r(a(28460)),i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},d=s.forwardRef(function(e,t){var a=e.ellipsis,n=i(e,["ellipsis"]),r=s.useMemo(function(){return a&&"object"===(0,o.default)(a)?(0,c.default)(a,["expandable","rows"]):a},[a]);return s.createElement(u.default,(0,l.default)({ref:t},n,{ellipsis:r,component:"span"}))});t.default=d},53740:function(e,t,a){"use strict";var n=a(64836).default;t.default=void 0;var r=n(a(89277)),l=n(a(21987)),o=n(a(15394)),c=n(a(11700)),s=n(a(89652)).default;s.Text=o.default,s.Link=r.default,s.Title=c.default,s.Paragraph=l.default,t.default=s},93645:function(e,t,a){"use strict";a.d(t,{u:function(){return r}});var n={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function r(e){return e?n[e]:n.trunc}},59910:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(19013),r=a(13882);function l(e,t){return(0,r.Z)(2,arguments),(0,n.Z)(e).getTime()-(0,n.Z)(t).getTime()}},11699:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(59910),r=a(13882),l=a(93645);function o(e,t,a){(0,r.Z)(2,arguments);var o=(0,n.Z)(e,t)/1e3;return(0,l.u)(null==a?void 0:a.roundingMethod)(o)}},26562:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/access-tokens",function(){return a(67288)}])},67288:function(e,t,a){"use strict";a.r(t);var n=a(85893),r=a(67294),l=a(2307),o=a(59361),c=a(74048),s=a(65400),u=a(56697),i=a(31059),d=a(51024),f=a(53740),p=a(55673),m=a(5789),v=a(94055),y=a(58091),h=a(5152),b=a.n(h),x=a(81453),g=a(34261);let{Title:w,Paragraph:O}=f.default,j=b()(()=>a.e(7949).then(a.t.bind(a,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1}),C={CAN_SEND_SYSTEM_MESSAGES:{name:"System messages",description:"Can send official messages on behalf of the system.",color:"purple"},CAN_SEND_MESSAGES:{name:"User chat messages",description:"Can send chat messages on behalf of the owner of this token.",color:"green"},HAS_ADMIN_ACCESS:{name:"Has admin access",description:"Can perform administrative actions such as moderation, get server statuses, etc.",color:"red"}},k=e=>{let{onOk:t,onCancel:a,open:l}=e,[o,c]=(0,r.useState)([]),[f,v]=(0,r.useState)(""),y=Object.keys(C).map(e=>({value:e,label:C[e].description})),h={disabled:0===o.length||""===f},b=y.map(e=>(0,n.jsx)(m.Z,{span:8,children:(0,n.jsx)(i.default,{value:e.value,children:e.label})},e.value));return(0,n.jsxs)(u.default,{title:"Create New Access token",open:l,onOk:function(){t(f,o),c([]),v("")},onCancel:a,okButtonProps:h,children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("p",{children:"The name will be displayed as the chat user when sending messages with this access token."}),(0,n.jsx)(d.default,{value:f,placeholder:"Name of bot, service, or integration",onChange:e=>v(e.currentTarget.value)})]}),(0,n.jsx)("p",{children:"Select the permissions this access token will have. It cannot be edited after it's created."}),(0,n.jsx)(i.default.Group,{style:{width:"100%"},value:o,onChange:function(e){c(e)},children:(0,n.jsx)(p.Z,{children:b})}),(0,n.jsx)("p",{children:(0,n.jsx)(s.default,{type:"primary",onClick:function(){c(Object.keys(C))},children:"Select all"})})]})},E=()=>{let[e,t]=(0,r.useState)([]),[a,u]=(0,r.useState)(!1);function i(e){console.error("error",e)}async function f(){try{let e=await (0,x.rQ)(x.ms);t(e)}catch(e){i(e)}}async function p(e){try{await (0,x.rQ)(x.Wr,{method:"POST",data:{token:e}}),f()}catch(e){i(e)}}async function m(a,n){try{let r=await (0,x.rQ)(x.IO,{method:"POST",data:{name:a,scopes:n}});t(e.concat(r))}catch(e){i(e)}}(0,r.useEffect)(()=>{f()},[]);let h=[{title:"",key:"delete",render:(e,t)=>(0,n.jsx)(c.default,{size:"middle",children:(0,n.jsx)(s.default,{onClick:()=>p(t.accessToken),icon:(0,n.jsx)(j,{})})})},{title:"Name",dataIndex:"displayName",key:"displayName"},{title:"Token",dataIndex:"accessToken",key:"accessToken",render:e=>(0,n.jsx)(d.default.Password,{size:"small",bordered:!1,value:e})},{title:"Scopes",dataIndex:"scopes",key:"scopes",render:e=>(0,n.jsx)(n.Fragment,{children:e.map(e=>(function(e){if(!e||!C[e])return null;let t=C[e];return(0,n.jsx)(v.default,{title:t.description,children:(0,n.jsx)(o.Z,{color:t.color,children:t.name})},e)})(e))})},{title:"Last Used",dataIndex:"lastUsed",key:"lastUsed",render:e=>{if(!e)return"Never";let t=new Date(e);return(0,y.Z)(t,"P p")}}];return(0,n.jsxs)("div",{children:[(0,n.jsx)(w,{children:"Access Tokens"}),(0,n.jsx)(O,{children:"Access tokens are used to allow external, 3rd party tools to perform specific actions on your Owncast server. They should be kept secure and never included in client code, instead they should be kept on a server that you control."}),(0,n.jsxs)(O,{children:["Read more about how to use these tokens, with examples, at"," ",(0,n.jsx)("a",{href:"https://owncast.online/docs/integrations/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"our documentation"}),"."]}),(0,n.jsx)(l.Z,{rowKey:"token",columns:h,dataSource:e,pagination:!1}),(0,n.jsx)("br",{}),(0,n.jsx)(s.default,{type:"primary",onClick:()=>{u(!0)},children:"Create Access Token"}),(0,n.jsx)(k,{open:a,onOk:(e,t)=>{u(!1),m(e,t)},onCancel:()=>{u(!1)}})]})};E.getLayout=function(e){return(0,n.jsx)(g.l,{page:e})},t.default=E},11163:function(e,t,a){e.exports=a(96885)}},function(e){e.O(0,[5596,1130,4104,9403,1024,3942,971,6697,1664,1749,1700,2122,9552,7752,5891,2891,4749,6627,8966,8091,4261,9774,2888,179],function(){return e(e.s=26562)}),_N_E=e.O()}]);