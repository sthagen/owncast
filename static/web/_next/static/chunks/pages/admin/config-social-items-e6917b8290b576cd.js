(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{26803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"}},56338:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=_interopRequireDefault(a(5661));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}t.default=l,e.exports=l},5661:function(e,t,a){"use strict";var l=a(64836),n=a(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(42122)),o=_interopRequireWildcard(a(67294)),s=l(a(26803)),i=l(a(92074));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=_getRequireWildcardCache(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(l,o,s):l[o]=e[o]}return l.default=e,a&&a.set(e,l),l}var UpOutlined=function(e,t){return o.createElement(i.default,(0,r.default)((0,r.default)({},e),{},{ref:t,icon:s.default}))};UpOutlined.displayName="UpOutlined";var c=o.forwardRef(UpOutlined);t.default=c},8799:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;t.Z=void 0;var r=n(a(10434)),o=n(a(38416)),s=n(a(18698)),i=n(a(27424)),c=n(a(5085)),d=n(a(56338)),u=n(a(94184)),f=n(a(82122)),p=l(a(67294)),m=a(31929),v=n(a(93319)),h=n(a(3236)),x=a(51130),b=a(46549),g=a(47419),j=a(71434),__rest=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a},y=p.forwardRef(function(e,t){var a=p.useContext(m.ConfigContext),l=a.getPrefixCls,n=a.direction,y=p.useContext(h.default),w=p.useState(!1),N=(0,i.default)(w,2),O=N[0],S=N[1],_=p.useRef(null);p.useImperativeHandle(t,function(){return _.current});var C=e.className,M=e.size,E=e.disabled,I=e.prefixCls,P=e.addonBefore,k=e.addonAfter,T=e.prefix,R=e.bordered,U=void 0===R||R,z=e.readOnly,A=e.status,Z=e.controls,D=__rest(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),L=l("input-number",I),H=(0,b.useCompactItemContext)(L,n),F=H.compactSize,W=H.compactItemClassnames,q=p.createElement(d.default,{className:"".concat(L,"-handler-up-inner")}),B=p.createElement(c.default,{className:"".concat(L,"-handler-down-inner")}),G="boolean"==typeof Z?Z:void 0;"object"===(0,s.default)(Z)&&(q=void 0===Z.upIcon?q:p.createElement("span",{className:"".concat(L,"-handler-up-inner")},Z.upIcon),B=void 0===Z.downIcon?B:p.createElement("span",{className:"".concat(L,"-handler-down-inner")},Z.downIcon));var K=(0,p.useContext)(x.FormItemInputContext),V=K.hasFeedback,X=K.status,Q=K.isFormItemInput,Y=K.feedbackIcon,$=(0,j.getMergedStatus)(X,A),J=F||M||y,ee=p.useContext(v.default),et=null!=E?E:ee,ea=(0,u.default)((en={},(0,o.default)(en,"".concat(L,"-lg"),"large"===J),(0,o.default)(en,"".concat(L,"-sm"),"small"===J),(0,o.default)(en,"".concat(L,"-rtl"),"rtl"===n),(0,o.default)(en,"".concat(L,"-borderless"),!U),(0,o.default)(en,"".concat(L,"-in-form-item"),Q),en),(0,j.getStatusClassNames)(L,$),W,C),el=p.createElement(f.default,(0,r.default)({ref:_,disabled:et,className:ea,upHandler:q,downHandler:B,prefixCls:L,readOnly:z,controls:G},D));if(null!=T||V){var en,er,eo=(0,u.default)("".concat(L,"-affix-wrapper"),(0,j.getStatusClassNames)("".concat(L,"-affix-wrapper"),$,V),(er={},(0,o.default)(er,"".concat(L,"-affix-wrapper-focused"),O),(0,o.default)(er,"".concat(L,"-affix-wrapper-disabled"),e.disabled),(0,o.default)(er,"".concat(L,"-affix-wrapper-sm"),"small"===y),(0,o.default)(er,"".concat(L,"-affix-wrapper-lg"),"large"===y),(0,o.default)(er,"".concat(L,"-affix-wrapper-rtl"),"rtl"===n),(0,o.default)(er,"".concat(L,"-affix-wrapper-readonly"),z),(0,o.default)(er,"".concat(L,"-affix-wrapper-borderless"),!U),(0,o.default)(er,"".concat(C),!(P||k)&&C),er));el=p.createElement("div",{className:eo,style:e.style,onMouseUp:function(){return _.current.focus()}},T&&p.createElement("span",{className:"".concat(L,"-prefix")},T),(0,g.cloneElement)(el,{style:null,value:e.value,onFocus:function(t){var a;S(!0),null===(a=e.onFocus)||void 0===a||a.call(e,t)},onBlur:function(t){var a;S(!1),null===(a=e.onBlur)||void 0===a||a.call(e,t)}}),V&&p.createElement("span",{className:"".concat(L,"-suffix")},Y))}if(null!=P||null!=k){var es,ei="".concat(L,"-group"),ec="".concat(ei,"-addon"),ed=P?p.createElement("div",{className:ec},P):null,eu=k?p.createElement("div",{className:ec},k):null,ef=(0,u.default)("".concat(L,"-wrapper"),ei,(0,o.default)({},"".concat(ei,"-rtl"),"rtl"===n)),ep=(0,u.default)("".concat(L,"-group-wrapper"),(es={},(0,o.default)(es,"".concat(L,"-group-wrapper-sm"),"small"===y),(0,o.default)(es,"".concat(L,"-group-wrapper-lg"),"large"===y),(0,o.default)(es,"".concat(L,"-group-wrapper-rtl"),"rtl"===n),es),(0,j.getStatusClassNames)("".concat(L,"-group-wrapper"),$,V),C);el=p.createElement("div",{className:ep,style:e.style},p.createElement("div",{className:ef},ed&&p.createElement(b.NoCompactStyle,null,p.createElement(x.NoFormStyle,{status:!0,override:!0},ed)),(0,g.cloneElement)(el,{style:null,disabled:et}),eu&&p.createElement(b.NoCompactStyle,null,p.createElement(x.NoFormStyle,{status:!0,override:!0},eu))))}return el});t.Z=y},16373:function(e,t,a){"use strict";var l=a(64836).default,n=a(75263).default;t.default=void 0;var r=n(a(62704)),o=l(a(87412)),s=r.default;s.Header=r.Header,s.Footer=r.Footer,s.Content=r.Content,s.Sider=o.default,t.default=s},89277:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10434));n(a(18698));var o=l(a(67294));n(a(13594));var s=n(a(28460)),__rest=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a},i=o.forwardRef(function(e,t){var a=e.ellipsis,l=e.rel,n=__rest(e,["ellipsis","rel"]),i=(0,r.default)((0,r.default)({},n),{rel:void 0===l&&"_blank"===n.target?"noopener noreferrer":l});return delete i.navigate,o.createElement(s.default,(0,r.default)({},i,{ref:t,ellipsis:!!a,component:"a"}))});t.default=i},21987:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10434)),o=l(a(67294)),s=n(a(28460)),i=o.forwardRef(function(e,t){return o.createElement(s.default,(0,r.default)({ref:t},e,{component:"div"}))});t.default=i},15394:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10434)),o=n(a(18698)),s=n(a(18475)),i=l(a(67294));n(a(13594));var c=n(a(28460)),__rest=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a},d=i.forwardRef(function(e,t){var a=e.ellipsis,l=__rest(e,["ellipsis"]),n=i.useMemo(function(){return a&&"object"===(0,o.default)(a)?(0,s.default)(a,["expandable","rows"]):a},[a]);return i.createElement(c.default,(0,r.default)({ref:t},l,{ellipsis:n,component:"span"}))});t.default=d},53740:function(e,t,a){"use strict";var l=a(64836).default;t.default=void 0;var n=l(a(89277)),r=l(a(21987)),o=l(a(15394)),s=l(a(34528)),i=l(a(89652)).default;i.Text=o.default,i.Link=n.default,i.Title=s.default,i.Paragraph=r.default,t.default=i},93645:function(e,t,a){"use strict";a.d(t,{u:function(){return getRoundingMethod}});var l={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function getRoundingMethod(e){return e?l[e]:l.trunc}},59910:function(e,t,a){"use strict";a.d(t,{Z:function(){return differenceInMilliseconds}});var l=a(19013),n=a(13882);function differenceInMilliseconds(e,t){return(0,n.Z)(2,arguments),(0,l.Z)(e).getTime()-(0,l.Z)(t).getTime()}},11699:function(e,t,a){"use strict";a.d(t,{Z:function(){return differenceInSeconds}});var l=a(59910),n=a(13882),r=a(93645);function differenceInSeconds(e,t,a){(0,n.Z)(2,arguments);var o=(0,l.Z)(e,t)/1e3;return(0,r.u)(null==a?void 0:a.roundingMethod)(o)}},81009:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-social-items",function(){return a(48735)}])},55925:function(e,t,a){"use strict";a.d(t,{Z:function(){return EditSocialLinks}});var l=a(85893),n=a(67294),r=a(53740),o=a(2307),s=a(65400),i=a(56697),c=a(51024),d=a(5152),u=a.n(d),f=a(64749),p=a(25588);let SocialDropdown=e=>{let{iconList:t,selectedOption:a,onSelected:n}=e,r=""===a?null:a;return(0,l.jsxs)("div",{className:"social-dropdown-container",children:[(0,l.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,l.jsxs)("div",{className:"formfield-container",children:[(0,l.jsx)("div",{className:"label-side",children:(0,l.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,l.jsx)("div",{className:"input-side",children:(0,l.jsxs)(f.default,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:r,value:r,onSelect:e=>{n&&n(e)},children:[t.map(e=>{let{platform:t,icon:a,key:n}=e;return(0,l.jsxs)(f.default.Option,{className:"social-option",value:n,children:[(0,l.jsx)("span",{className:"option-icon",children:(0,l.jsx)("img",{src:a,alt:"",className:"option-icon"})}),(0,l.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(n))}),(0,l.jsx)(f.default.Option,{className:"social-option",value:p.z_,children:"Other..."},"platform-".concat(p.z_))]})})]})]})};var m=a(92863),v=a(18454),h=a(89105),x=a(5751),b=a(75554),g=a(37383);let{Title:j}=r.default,y=u()(()=>Promise.resolve().then(a.t.bind(a,18244,23)),{loadableGenerated:{webpack:()=>[18244]},ssr:!1}),w=u()(()=>Promise.resolve().then(a.t.bind(a,22802,23)),{loadableGenerated:{webpack:()=>[22802]},ssr:!1}),N=u()(()=>a.e(7949).then(a.t.bind(a,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1});function EditSocialLinks(){var e,t;let[a,r]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[f,O]=(0,n.useState)(!1),[S,_]=(0,n.useState)(!1),[C,M]=(0,n.useState)(!1),[E,I]=(0,n.useState)(-1),[P,k]=(0,n.useState)(p.wC),[T,R]=(0,n.useState)(null),U=(0,n.useContext)(v.a),{serverConfig:z,setFieldInConfigState:A}=U||{},{instanceDetails:Z}=z,{socialHandles:D}=Z,getAvailableIcons=async()=>{try{let e=await (0,m.rQ)(m.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));r(t)}catch(e){console.log(e)}},isPredefinedSocial=e=>a.find(t=>t.key===e)||!1,L=""!==P.platform&&!a.find(e=>e.key===P.platform);(0,n.useEffect)(()=>{getAvailableIcons()},[]),(0,n.useEffect)(()=>{Z.socialHandles&&u(D)},[Z]);let resetStates=()=>{R(null),clearTimeout(null)},resetModal=()=>{O(!1),I(-1),_(!1),M(!1),k({...p.wC})},handleModalCancel=()=>{resetModal()},updateModalState=(e,t)=>{k({...P,[e]:t})},postUpdateToAPI=async e=>{await (0,p.Si)({apiPath:p.c9,data:{value:e},onSuccess:()=>{A({fieldName:"socialHandles",value:e,path:"instanceDetails"}),M(!1),handleModalCancel(),R((0,b.kg)(b.zv)),setTimeout(resetStates,p.sI)},onError:e=>{R((0,b.kg)(b.Un,"There was an error: ".concat(e))),M(!1),setTimeout(resetStates,p.sI)}})},handleDeleteItem=e=>{let t=[...d];t.splice(e,1),postUpdateToAPI(t)},handleMoveItemUp=e=>{if(e<=0||e>=d.length)return;let t=[...d],a=t[e-1];t[e-1]=t[e],t[e]=a,postUpdateToAPI(t)},handleMoveItemDown=e=>{if(e<0||e>=d.length-1)return;let t=[...d],a=t[e+1];t[e+1]=t[e],t[e]=a,postUpdateToAPI(t)},H=[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:a,url:n}=t,r=isPredefinedSocial(a);if(!r)return(0,l.jsx)("div",{className:"social-handle-cell",children:(0,l.jsxs)("p",{className:"option-label",children:[(0,l.jsx)("strong",{children:a}),(0,l.jsx)("span",{className:"handle-url",title:n,children:n})]})});let{icon:o,platform:s}=r;return(0,l.jsxs)("div",{className:"social-handle-cell",children:[(0,l.jsx)("span",{className:"option-icon",children:(0,l.jsx)("img",{src:o,alt:"",className:"option-icon"})}),(0,l.jsxs)("p",{className:"option-label",children:[(0,l.jsx)("strong",{children:s}),(0,l.jsx)("span",{className:"handle-url",title:n,children:n})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,a)=>(0,l.jsxs)("div",{className:"actions",children:[(0,l.jsx)(s.default,{size:"small",onClick:()=>{let e=d[a];I(a),k({...e}),O(!0),isPredefinedSocial(e.platform)||_(!0)},children:"Edit"}),(0,l.jsx)(s.default,{icon:(0,l.jsx)(w,{}),size:"small",hidden:0===a,onClick:()=>handleMoveItemUp(a)}),(0,l.jsx)(s.default,{icon:(0,l.jsx)(y,{}),size:"small",hidden:a===d.length-1,onClick:()=>handleMoveItemDown(a)}),(0,l.jsx)(s.default,{className:"delete-button",icon:(0,l.jsx)(N,{}),size:"small",onClick:()=>handleDeleteItem(a)})]})}],F={disabled:(e=P.url,"xmpp"===(t=P.platform)?!(0,h.Kf)(e,"xmpp"):"matrix"===t?!(0,h.bu)(e):!(0,h.jv)(e))},W=(0,l.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,l.jsx)("div",{className:"label-side"}),(0,l.jsx)("div",{className:"input-side",children:(0,l.jsx)(c.default,{placeholder:"Other platform name",defaultValue:P.platform,onChange:e=>{let{value:t}=e.target;updateModalState("platform",t)}})})]});return(0,l.jsxs)("div",{className:"social-links-edit-container",children:[(0,l.jsx)(j,{level:3,className:"section-title",children:"Your Social Handles"}),(0,l.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,l.jsx)(g.E,{status:T}),(0,l.jsx)(o.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:H,dataSource:d}),(0,l.jsx)(i.default,{title:"Edit Social Handle",open:f,onOk:()=>{M(!0);let e=d.length?[...d]:[];-1===E?e.push(P):e.splice(E,1,P),postUpdateToAPI(e)},onCancel:handleModalCancel,confirmLoading:C,okButtonProps:F,children:(0,l.jsxs)("div",{className:"social-handle-modal-content",children:[(0,l.jsx)(SocialDropdown,{iconList:a,selectedOption:L?p.z_:P.platform,onSelected:e=>{e===p.z_?(_(!0),updateModalState("platform","")):(_(!1),updateModalState("platform",e))}}),S&&W,(0,l.jsx)("br",{}),(0,l.jsx)(x.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[P.platform]||"Url to page",value:P.url,onChange:e=>{let{value:t}=e;updateModalState("url",t)},useTrim:!0,type:"url",pattern:h.ax}),(0,l.jsx)(g.E,{status:T})]})}),(0,l.jsx)("br",{}),(0,l.jsx)(s.default,{type:"primary",onClick:()=>{resetModal(),O(!0)},children:"Add a new social link"})]})}},48735:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ConfigSocialThings}});var l=a(85893);a(67294);var n=a(53740),r=a(55925),o=a(15578);let{Title:s}=n.default;function ConfigSocialThings(){return(0,l.jsxs)("div",{className:"config-social-items",children:[(0,l.jsx)(s,{children:"Social Items"}),(0,l.jsx)(r.Z,{})]})}ConfigSocialThings.getLayout=function(e){return(0,l.jsx)(o.l,{page:e})}},11163:function(e,t,a){e.exports=a(59974)}},function(e){e.O(0,[5596,1130,4104,9403,1024,3942,971,6697,1664,1749,1700,2122,7752,5891,2891,4749,6627,8966,5578,9774,2888,179],function(){return e(e.s=81009)}),_N_E=e.O()}]);