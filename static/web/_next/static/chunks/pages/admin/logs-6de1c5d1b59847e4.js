(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1774],{23426:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/logs",function(){return t(28899)}])},30671:function(e,n,t){"use strict";t.d(n,{o:function(){return v}});var r=t(85893),c=t(67294),o=t(73745),l=t(26334),i=t(89062),a=t(53731),u=t(36627);let{Title:s}=o.default;function f(e,n){let t="black";return"warning"===n.level?t="orange":"error"===n.level&&(t="red"),(0,r.jsx)(l.Z,{color:t,children:e})}function d(e){return(0,r.jsx)(a.Z,{children:e})}let v=e=>{let{logs:n,initialPageSize:t}=e;if(!(null==n?void 0:n.length))return null;let[o,l]=(0,c.useState)(t);return(0,r.jsxs)("div",{className:"logs-section",children:[(0,r.jsx)(s,{children:"Logs"}),(0,r.jsx)(i.Z,{size:"middle",dataSource:n,columns:[{title:"Level",dataIndex:"level",key:"level",filters:[{text:"Info",value:"info"},{text:"Warning",value:"warning"},{text:"Error",value:"Error"}],onFilter:(e,n)=>0===n.level.indexOf(e),render:f},{title:"Timestamp",dataIndex:"time",key:"time",render:e=>{let n=new Date(e);return(0,u.WU)(n,"pp P")},sorter:(e,n)=>new Date(e.time).getTime()-new Date(n.time).getTime(),sortDirections:["descend","ascend"],defaultSortOrder:"descend"},{title:"Message",dataIndex:"message",key:"message",render:d}],rowKey:e=>e.time,pagination:{pageSize:o},onChange:e=>{l(e.pageSize)}})]})}},13481:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(97685),c=t(67294);function o(){var e=c.useReducer(function(e){return e+1},0);return(0,r.Z)(e,2)[1]}},8994:function(e,n,t){"use strict";var r=t(67294),c=t(13481),o=t(61210);n.Z=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,r.useRef)({}),t=(0,c.Z)();return(0,r.useEffect)(function(){var r=o.ZP.subscribe(function(r){n.current=r,e&&t()});return function(){return o.ZP.unsubscribe(r)}},[]),n.current}},26334:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(4942),c=t(87462),o=t(97685),l=t(33202),i=t(93967),a=t.n(i),u=t(25084),s=t(67294),f=t(93565),d=t(21377),v=t(23604),p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>n.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,r=Object.getOwnPropertySymbols(e);c<r.length;c++)0>n.indexOf(r[c])&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(t[r[c]]=e[r[c]]);return t},g=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>n.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,r=Object.getOwnPropertySymbols(e);c<r.length;c++)0>n.indexOf(r[c])&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(t[r[c]]=e[r[c]]);return t},m=new RegExp("^(".concat(d.Y.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(d.E.join("|"),")$")),h=s.forwardRef(function(e,n){var t=e.prefixCls,i=e.className,d=e.style,p=e.children,h=e.icon,x=e.color,y=e.onClose,E=e.closeIcon,C=e.closable,Z=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),w=s.useContext(f.E_),O=w.getPrefixCls,k=w.direction,j=s.useState(!0),P=(0,o.Z)(j,2),_=P[0],N=P[1];s.useEffect(function(){"visible"in Z&&N(Z.visible)},[Z.visible]);var I=function(){return!!x&&(m.test(x)||b.test(x))},S=(0,c.Z)({backgroundColor:x&&!I()?x:void 0},d),T=I(),R=O("tag",t),D=a()(R,(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},"".concat(R,"-").concat(x),T),"".concat(R,"-has-color"),x&&!T),"".concat(R,"-hidden"),!_),"".concat(R,"-rtl"),"rtl"===k),i),M=function(e){e.stopPropagation(),null==y||y(e),!e.defaultPrevented&&("visible"in Z||N(!1))},z="onClick"in Z||p&&"a"===p.type,L=(0,u.Z)(Z,["visible"]),Q=h||null,F=Q?s.createElement(s.Fragment,null,Q,s.createElement("span",null,p)):p,W=s.createElement("span",(0,c.Z)({},L,{ref:n,className:D,style:S}),F,void 0!==C&&C?E?s.createElement("span",{className:"".concat(R,"-close-icon"),onClick:M},E):s.createElement(l.Z,{className:"".concat(R,"-close-icon"),onClick:M}):null);return z?s.createElement(v.Z,null,W):W});h.CheckableTag=function(e){var n=e.prefixCls,t=e.className,o=e.checked,l=e.onChange,i=e.onClick,u=p(e,["prefixCls","className","checked","onChange","onClick"]),d=(0,s.useContext(f.E_).getPrefixCls)("tag",n),v=a()(d,(0,r.Z)((0,r.Z)({},"".concat(d,"-checkable"),!0),"".concat(d,"-checkable-checked"),o),t);return s.createElement("span",(0,c.Z)({},u,{className:v,onClick:function(e){null==l||l(!o),null==i||i(e)}}))};var x=h},28899:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var r=t(85893),c=t(67294),o=t(30671),l=t(27478),i=t(27674);function a(){let[e,n]=(0,c.useState)([]),t=async()=>{try{let e=await (0,l.rQ)(l.sG);n(e)}catch(e){console.log("==== error",e)}};return(0,c.useEffect)(()=>{let e=null;return setInterval(t,5e3),t(),e=setInterval(t,5e3),()=>{clearInterval(e)}},[]),(0,r.jsx)(o.o,{logs:e,initialPageSize:20})}a.getLayout=function(e){return(0,r.jsx)(i.l,{page:e})}},11163:function(e,n,t){e.exports=t(9090)},35928:function(e,n,t){"use strict";function r(e){return n=>{let t=(e?Math[e]:Math.trunc)(n);return 0===t?0:t}}t.d(n,{u:function(){return r}})},51678:function(e,n,t){"use strict";t.d(n,{_:function(){return c}});var r=t(47296);function c(e,n){return+(0,r.Q)(e)-+(0,r.Q)(n)}},44284:function(e,n,t){"use strict";t.d(n,{c:function(){return o}});var r=t(35928),c=t(51678);function o(e,n,t){let o=(0,c._)(e,n)/1e3;return(0,r.u)(null==t?void 0:t.roundingMethod)(o)}}},function(e){e.O(0,[2016,4992,9831,6113,9505,4970,3745,6919,6880,6655,8810,247,9062,3109,6627,8684,7674,2888,9774,179],function(){return e(e.s=23426)}),_N_E=e.O()}]);