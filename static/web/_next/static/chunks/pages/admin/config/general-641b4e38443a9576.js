(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871],{39856:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/general",function(){return s(60060)}])},4349:function(e,t,s){"use strict";s.d(t,{Q:function(){return d},Y:function(){return u}});var a=s(85893),n=s(67294),l=s(85818),i=s(20550),r=s(67032),o=s(57520);let{Title:c}=l.default,d="#5a67d8",u=e=>{let{title:t,description:s,placeholder:l,maxLength:u,values:m,handleDeleteIndex:h,handleCreateString:p,submitStatus:x,continuousStatusMessage:g}=e,[f,j]=(0,n.useState)("");return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(c,{level:3,className:"section-title",children:t}),(0,a.jsx)("p",{className:"description",children:s}),(0,a.jsx)("div",{className:"edit-current-strings",children:null==m?void 0:m.map((e,t)=>(0,a.jsx)(i.Z,{closable:!0,onClose:()=>{h(t)},color:d,children:e},"tag-".concat(e,"-").concat(t)))}),g&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(o.E,{status:g})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(r.nv,{fieldName:"string-input",value:f,onChange:e=>{let{value:t}=e;j(t)},onPressEnter:()=>{let e=f.trim();p(e),j("")},maxLength:u,placeholder:l,status:x})})]})};u.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},44716:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(85893),n=s(67294),l=s(94594),i=s(91332),r=s(57520),o=s(24044),c=s(38631);let d=e=>{let{apiPath:t,checked:s,reversed:d=!1,configPath:u="",disabled:m=!1,fieldName:h,label:p,tip:x,useSubmit:g,onChange:f}=e,[j,v]=(0,n.useState)(null),b=null,k=(0,n.useContext)(c.a),{setFieldInConfigState:y}=k||{},N=()=>{v(null),clearTimeout(b),b=null},S=async e=>{if(g){v((0,i.kg)(i.Jk));let s=d?!e:e;await (0,o.Si)({apiPath:t,data:{value:s},onSuccess:()=>{y({fieldName:h,value:s,path:u}),v((0,i.kg)(i.zv))},onError:e=>{v((0,i.kg)(i.Un,"There was an error: ".concat(e)))}}),b=setTimeout(N,o.sI)}f&&f(e)},w=null!==j&&j.type===i.Jk;return(0,a.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[p&&(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:p})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)(l.Z,{className:"switch field-".concat(h),loading:w,onChange:S,defaultChecked:s,checked:s,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:m}),(0,a.jsx)(r.E,{status:j})]}),(0,a.jsx)("p",{className:"field-tip",children:x})]})]})};d.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},97469:function(e,t,s){"use strict";s.d(t,{Z:function(){return w}});var a=s(85893),n=s(67294),l=s(85818),i=s(71577),r=s(79531),o=s(54398),c=s(85402),d=s(5152),u=s.n(d),m=s(34041),h=s(24044);let p=e=>{let{iconList:t,selectedOption:s,onSelected:n}=e,l=""===s?null:s;return(0,a.jsxs)("div",{className:"social-dropdown-container",children:[(0,a.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,a.jsxs)("div",{className:"formfield-container",children:[(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,a.jsx)("div",{className:"input-side",children:(0,a.jsxs)(m.default,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:l,value:l,onSelect:e=>{n&&n(e)},children:[t.map(e=>{let{platform:t,icon:s,key:n}=e;return(0,a.jsxs)(m.default.Option,{className:"social-option",value:n,children:[(0,a.jsx)("span",{className:"option-icon",children:(0,a.jsx)("img",{src:s,alt:"",className:"option-icon"})}),(0,a.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(n))}),(0,a.jsx)(m.default.Option,{className:"social-option",value:h.z_,children:"Other..."},"platform-".concat(h.z_))]})})]})]})};var x=s(81453),g=s(38631),f=s(53899),j=s(67032),v=s(91332),b=s(57520);let{Title:k}=l.default,y=u()(()=>Promise.all([s.e(2074),s.e(8244)]).then(s.t.bind(s,18244,23)),{loadableGenerated:{webpack:()=>[18244]},ssr:!1}),N=u()(()=>Promise.all([s.e(2074),s.e(2802)]).then(s.t.bind(s,22802,23)),{loadableGenerated:{webpack:()=>[22802]},ssr:!1}),S=u()(()=>Promise.all([s.e(2074),s.e(7949)]).then(s.t.bind(s,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1});function w(){var e,t;let[s,l]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,w]=(0,n.useState)(!1),[C,T]=(0,n.useState)(!1),[E,Z]=(0,n.useState)(!1),[P,_]=(0,n.useState)(-1),[z,I]=(0,n.useState)(h.wC),[L,O]=(0,n.useState)(null),U=(0,n.useContext)(g.a),{serverConfig:B,setFieldInConfigState:M}=U||{},{instanceDetails:A}=B,{socialHandles:F}=A,J=async()=>{try{let e=await (0,x.rQ)(x.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));l(t)}catch(e){console.log(e)}},R=e=>s.find(t=>t.key===e)||!1,D=""!==z.platform&&!s.find(e=>e.key===z.platform);(0,n.useEffect)(()=>{J()},[]),(0,n.useEffect)(()=>{A.socialHandles&&u(F)},[A]);let V=()=>{O(null),clearTimeout(null)},G=()=>{w(!1),_(-1),T(!1),Z(!1),I({...h.wC})},H=()=>{G()},K=(e,t)=>{I({...z,[e]:t})},Y=async e=>{await (0,h.Si)({apiPath:h.c9,data:{value:e},onSuccess:()=>{M({fieldName:"socialHandles",value:e,path:"instanceDetails"}),Z(!1),H(),O((0,v.kg)(v.zv)),setTimeout(V,h.sI)},onError:e=>{O((0,v.kg)(v.Un,"There was an error: ".concat(e))),Z(!1),setTimeout(V,h.sI)}})},$=e=>{let t=[...d];t.splice(e,1),Y(t)},X=e=>{if(e<=0||e>=d.length)return;let t=[...d],s=t[e-1];t[e-1]=t[e],t[e]=s,Y(t)},Q=e=>{if(e<0||e>=d.length-1)return;let t=[...d],s=t[e+1];t[e+1]=t[e],t[e]=s,Y(t)},W=[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:s,url:n}=t,l=R(s);if(!l)return(0,a.jsx)("div",{className:"social-handle-cell",children:(0,a.jsxs)("p",{className:"option-label",children:[(0,a.jsx)("strong",{children:s}),(0,a.jsx)("span",{className:"handle-url",title:n,children:n})]})});let{icon:i,platform:r}=l;return(0,a.jsxs)("div",{className:"social-handle-cell",children:[(0,a.jsx)("span",{className:"option-icon",children:(0,a.jsx)("img",{src:i,alt:"",className:"option-icon"})}),(0,a.jsxs)("p",{className:"option-label",children:[(0,a.jsx)("strong",{children:r}),(0,a.jsx)("span",{className:"handle-url",title:n,children:n})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,s)=>(0,a.jsxs)("div",{className:"actions",children:[(0,a.jsx)(i.Z,{size:"small",onClick:()=>{let e=d[s];_(s),I({...e}),w(!0),R(e.platform)||T(!0)},children:"Edit"}),(0,a.jsx)(i.Z,{icon:(0,a.jsx)(N,{}),size:"small",hidden:0===s,onClick:()=>X(s)}),(0,a.jsx)(i.Z,{icon:(0,a.jsx)(y,{}),size:"small",hidden:s===d.length-1,onClick:()=>Q(s)}),(0,a.jsx)(i.Z,{className:"delete-button",icon:(0,a.jsx)(S,{}),size:"small",onClick:()=>$(s)})]})}],q={disabled:(e=z.url,"xmpp"===(t=z.platform)?!(0,f.Kf)(e,"xmpp"):"matrix"===t?!(0,f.bu)(e):!(0,f.jv)(e))},ee=(0,a.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,a.jsx)("div",{className:"label-side"}),(0,a.jsx)("div",{className:"input-side",children:(0,a.jsx)(r.default,{placeholder:"Other platform name",defaultValue:z.platform,onChange:e=>{let{value:t}=e.target;K("platform",t)}})})]});return(0,a.jsxs)("div",{className:"social-links-edit-container",children:[(0,a.jsx)(k,{level:3,className:"section-title",children:"Your Social Handles"}),(0,a.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,a.jsx)(b.E,{status:L}),(0,a.jsx)(o.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:W,dataSource:d}),(0,a.jsx)(c.default,{title:"Edit Social Handle",open:m,onOk:()=>{Z(!0);let e=d.length?[...d]:[];-1===P?e.push(z):e.splice(P,1,z),Y(e)},onCancel:H,confirmLoading:E,okButtonProps:q,children:(0,a.jsxs)("div",{className:"social-handle-modal-content",children:[(0,a.jsx)(p,{iconList:s,selectedOption:D?h.z_:z.platform,onSelected:e=>{e===h.z_?(T(!0),K("platform","")):(T(!1),K("platform",e))}}),C&&ee,(0,a.jsx)("br",{}),(0,a.jsx)(j.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[z.platform]||"Url to page",value:z.url,onChange:e=>{let{value:t}=e;K("url",t)},useTrim:!0,type:"url",pattern:f.ax}),(0,a.jsx)(b.E,{status:L})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(i.Z,{type:"primary",onClick:()=>{G(),w(!0)},children:"Add a new social link"})]})}},60060:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eo}});var a=s(85893),n=s(67294),l=s(44526),i=s(85818),r=s(71577),o=s(48825),c=s(95089),d=s(58909),u=s(76538),m=s(78353),h=s(38631),p=s(24044),x=s(44716),g=s(55741),f=s(5152),j=s.n(f),v=s(57520),b=s(91332),k=s(81453),y=s(80693);let N=j()(()=>Promise.resolve().then(s.t.bind(s,628,23)),{loadableGenerated:{webpack:()=>[628]},ssr:!1}),S=j()(()=>s.e(9876).then(s.t.bind(s,29876,23)),{loadableGenerated:{webpack:()=>[29876]},ssr:!1}),w=()=>{var e;let[t,s]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(0),d=(0,n.useContext)(h.a),{setFieldInConfigState:u,serverConfig:m}=d||{},x=null==m?void 0:null===(e=m.instanceDetails)||void 0===e?void 0:e.logo,[f,j]=(0,n.useState)(null),w=null,{apiPath:C,tip:T}=p.TEXTFIELD_PROPS_LOGO,E=()=>{j(null),clearTimeout(w),w=null},Z=async()=>{t!==x&&(j((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:C,data:{value:t},onSuccess:()=>{u({fieldName:"logo",value:t,path:""}),j((0,b.kg)(b.zv)),i(!1),c(Math.floor(100*Math.random()))},onError:e=>{j((0,b.kg)(b.Un,"There was an error: ".concat(e))),i(!1)}}),w=setTimeout(E,p.sI))},P="".concat(k.WB,"logo?random=").concat(o);return(0,a.jsxs)("div",{className:"formfield-container logo-upload-container",children:[(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:"Logo"})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("img",{src:P,alt:"avatar",className:"logo-preview"}),(0,a.jsx)(g.Z,{name:"logo",listType:"picture",className:"avatar-uploader",showUploadList:!1,accept:y.dr.join(","),beforeUpload:e=>(i(!0),new Promise((t,a)=>{if(e.size>y.Z7){let t="File size is too big: ".concat((0,y.kR)(e.size));return j((0,b.kg)(b.Un,"There was an error: ".concat(t))),w=setTimeout(E,p.sI),i(!1),a()}if(!y.dr.includes(e.type)){let t="File type is not supported: ".concat(e.type);return j((0,b.kg)(b.Un,"There was an error: ".concat(t))),w=setTimeout(E,p.sI),i(!1),a()}(0,y.y3)(e,e=>{s(e),setTimeout(()=>t(),100)})})),customRequest:Z,disabled:l,children:l?(0,a.jsx)(N,{style:{color:"white"}}):(0,a.jsx)(r.Z,{icon:(0,a.jsx)(S,{})})})]}),(0,a.jsx)(v.E,{status:f}),(0,a.jsx)("p",{className:"field-tip",children:T})]})]})},{Title:C}=i.default;function T(){let[e,t]=(0,n.useState)(null),s=(0,n.useContext)(h.a),{serverConfig:l}=s||{},{instanceDetails:i,yp:g,hideViewerCount:f,disableSearchIndexing:j}=l,{instanceUrl:k}=g,[y,N]=(0,n.useState)(null);if((0,n.useEffect)(()=>{t({...i,...g,hideViewerCount:f,disableSearchIndexing:j})},[i,g]),!e)return null;let S=s=>{let{fieldName:a,value:n}=s;t({...e,[a]:n})},T=""!==k;return(0,a.jsxs)("div",{className:"edit-general-settings",children:[(0,a.jsx)(C,{level:3,className:"section-title",children:"Configure Instance Details"}),(0,a.jsx)("br",{}),(0,a.jsx)(m.$7,{fieldName:"name",...p.RE,value:e.name,initialValue:i.name,onChange:S}),(0,a.jsx)(m.$7,{fieldName:"instanceUrl",...p.cj,value:e.instanceUrl,initialValue:g.instanceUrl,type:m.xA,onChange:S,onSubmit:()=>{""===e.instanceUrl&&!0===g.enabled&&(0,p.Si)({apiPath:p.AP,data:{value:!1}})}}),(0,a.jsx)(m.$7,{fieldName:"summary",...p.rs,type:m.Sk,value:e.summary,initialValue:i.summary,onChange:S}),(0,a.jsxs)("div",{style:{marginBottom:"50px",marginRight:"150px"},children:[(0,a.jsxs)("div",{style:{display:"flex",width:"80vh",justifyContent:"space-between",alignItems:"end"},children:[(0,a.jsx)("p",{style:{margin:"20px",marginRight:"10px",fontWeight:"400"},children:"Offline Message:"}),(0,a.jsx)(c.ZP,{value:e.offlineMessage,...p.rd,theme:d.FZ,height:"150px",width:"450px",onChange:e=>{S({fieldName:"offlineMessage",value:e})},extensions:[(0,o.markdown)({base:o.markdownLanguage,codeLanguages:u.M})]})]}),(0,a.jsx)("div",{className:"field-tip",children:"The offline message is displayed to your page visitors when you're not streaming. Markdown is supported."}),(0,a.jsx)(r.Z,{type:"primary",onClick:()=>{(0,p.Si)({apiPath:p.bJ,data:{value:e.offlineMessage}}),N((0,b.kg)(b.zv)),setTimeout(()=>{N(null)},2e3)},style:{margin:"10px",float:"right"},children:"Save Message"}),(0,a.jsx)(v.Z,{status:y})]}),(0,a.jsx)(w,{}),(0,a.jsx)(x.Z,{fieldName:"hideViewerCount",useSubmit:!0,...p._X,checked:e.hideViewerCount,onChange:function(e){S({fieldName:"hideViewerCount",value:e})}}),(0,a.jsx)(x.Z,{fieldName:"disableSearchIndexing",useSubmit:!0,...p.il,checked:e.disableSearchIndexing,onChange:function(e){S({fieldName:"disableSearchIndexing",value:e})}}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{className:"description",children:["Increase your audience by appearing in the"," ",(0,a.jsx)("a",{href:"https://directory.owncast.online",target:"_blank",rel:"noreferrer",children:(0,a.jsx)("strong",{children:"Owncast Directory"})}),". This is an external service run by the Owncast project."," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/directory/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more"}),"."]}),!g.instanceUrl&&(0,a.jsxs)("p",{className:"description",children:["You must set your ",(0,a.jsx)("strong",{children:"Server URL"})," above to enable the directory."]}),(0,a.jsxs)("div",{className:"config-yp-container",children:[(0,a.jsx)(x.Z,{fieldName:"enabled",useSubmit:!0,...p.P,checked:e.enabled,disabled:!T}),(0,a.jsx)(x.Z,{fieldName:"nsfw",useSubmit:!0,...p.EY,checked:e.nsfw,disabled:!T})]})]})}var E=s(20550),Z=s(67032),P=s(4349);let{Title:_}=i.default;function z(){let[e,t]=(0,n.useState)(""),[s,l]=(0,n.useState)(null),i=(0,n.useContext)(h.a),{serverConfig:r,setFieldInConfigState:o}=i||{},{instanceDetails:c}=r,{tags:d=[]}=c,{apiPath:u,maxLength:m,placeholder:x,configPath:g}=p.FIELD_PROPS_TAGS,f=null;(0,n.useEffect)(()=>()=>{clearTimeout(f)},[]);let j=()=>{l(null),clearTimeout(f=null)},v=async e=>{l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:u,data:{value:e},onSuccess:()=>{o({fieldName:"tags",value:e,path:g}),l((0,b.kg)(b.zv,"Tags updated.")),t(""),f=setTimeout(j,p.sI)},onError:e=>{l((0,b.kg)(b.Un,e)),f=setTimeout(j,p.sI)}})},k=e=>{j();let t=[...d];t.splice(e,1),v(t)};return(0,a.jsxs)("div",{className:"tag-editor-container",children:[(0,a.jsx)(_,{level:3,className:"section-title",children:"Add Tags"}),(0,a.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,a.jsx)("div",{className:"edit-current-strings",children:d.map((e,t)=>(0,a.jsx)(E.Z,{closable:!0,onClose:()=>{k(t)},color:P.Q,children:e},"tag-".concat(e,"-").concat(t)))}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(Z.nv,{fieldName:"tag-input",value:e,className:"new-tag-input",onChange:e=>{let{value:a}=e;s||l(null),t(a)},onPressEnter:()=>{j();let t=e.trim();if(""===t){l((0,b.kg)(b.dG,"Please enter a tag"));return}if(d.some(e=>e.toLowerCase()===t.toLowerCase())){l((0,b.kg)(b.dG,"This tag is already used!"));return}let s=[...d,t];v(s)},maxLength:m,placeholder:x,status:s})})]})}var I=s(97469);let{Title:L}=i.default;function O(){let[e,t]=(0,n.useState)(""),[s,l]=(0,n.useState)(null),[i,m]=(0,n.useState)(!1),x=(0,n.useContext)(h.a),{serverConfig:g,setFieldInConfigState:f}=x||{},{instanceDetails:j}=g,{extraPageContent:k}=j,y=null,N=()=>{l(null),m(!1),clearTimeout(y),y=null};async function S(){l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:p.AA,data:{value:e},onSuccess:t=>{f({fieldName:"extraPageContent",value:e,path:"instanceDetails"}),l((0,b.kg)(b.zv,t))},onError:e=>{l((0,b.kg)(b.Un,e))}}),y=setTimeout(N,p.sI)}return(0,n.useEffect)(()=>{t(k)},[j]),(0,a.jsxs)("div",{className:"edit-page-content",children:[(0,a.jsx)(L,{level:3,className:"section-title",children:"Custom Page Content"}),(0,a.jsxs)("p",{className:"description",children:["Edit the content of your page by using simple"," ",(0,a.jsx)("a",{href:"https://www.markdownguide.org/basic-syntax/",target:"_blank",rel:"noopener noreferrer",children:"Markdown syntax"}),"."]}),(0,a.jsx)(c.ZP,{value:e,placeholder:"Enter your custom page content here...",theme:d.FZ,height:"200px",onChange:function(e){t(e),e===k||i?e===k&&i&&m(!1):m(!0)},extensions:[(0,o.markdown)({base:o.markdownLanguage,codeLanguages:u.M})]}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[i&&(0,a.jsx)(r.Z,{type:"primary",onClick:S,children:"Save"}),(0,a.jsx)(v.E,{status:s})]})]})}function U(){return(0,a.jsxs)("div",{className:"config-public-details-page",children:[(0,a.jsxs)("p",{className:"description",children:["The following are displayed on your site to describe your stream and its content."," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more."})]}),(0,a.jsxs)("div",{className:"top-container",children:[(0,a.jsx)("div",{className:"form-module instance-details-container",children:(0,a.jsx)(T,{})}),(0,a.jsxs)("div",{className:"form-module social-items-container ",children:[(0,a.jsx)("div",{className:"form-module tags-module",children:(0,a.jsx)(z,{})}),(0,a.jsx)("div",{className:"form-module social-handles-container",children:(0,a.jsx)(I.Z,{})})]})]}),(0,a.jsx)("div",{className:"form-module page-content-module",children:(0,a.jsx)(O,{})})]})}var B=s(54907),M=s(15746),A=s(26713),F=s(71230),J=s(22918),R=s(21987),D=s(11700),V=s(48120);let{Title:G}=i.default,H=()=>{let[e,t]=(0,n.useState)("/* Enter custom CSS here */"),[s,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),u=(0,n.useContext)(h.a),{serverConfig:m,setFieldInConfigState:x}=u||{},{instanceDetails:g}=m,{customStyles:f}=g,j=null,k=()=>{l(null),o(!1),clearTimeout(j),j=null};async function y(){l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:p.d$,data:{value:e},onSuccess:t=>{x({fieldName:"customStyles",value:e,path:"instanceDetails"}),l((0,b.kg)(b.zv,t))},onError:e=>{l((0,b.kg)(b.Un,e))}}),j=setTimeout(k,p.sI)}(0,n.useEffect)(()=>{t(f)},[g]);let N=n.useCallback(e=>{t(e),e===f||i?e===f&&i&&o(!1):o(!0)},[]);return(0,a.jsxs)("div",{className:"edit-custom-css",children:[(0,a.jsx)(G,{level:3,className:"section-title",children:"Customize your page styling with CSS"}),(0,a.jsxs)("p",{className:"description",children:["Customize the look and feel of your Owncast instance by overriding the CSS styles of various components on the page. Refer to the"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"CSS & Components guide"}),"."]}),(0,a.jsx)("p",{className:"description",children:"Please input plain CSS text, as this will be directly injected onto your page during load."}),(0,a.jsx)(c.ZP,{value:e,placeholder:"/* Enter custom CSS here */",theme:d.FZ,height:"200px",extensions:[(0,V.css)()],onChange:N}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[i&&(0,a.jsx)(r.Z,{type:"primary",onClick:y,children:"Save"}),(0,a.jsx)(v.E,{status:s})]})]})};var K=s(8118),Y=s.n(K);let{Panel:$}=B.default,X="/appearance",Q=[{name:"theme-color-users-0",description:""},{name:"theme-color-users-1",description:""},{name:"theme-color-users-2",description:""},{name:"theme-color-users-3",description:""},{name:"theme-color-users-4",description:""},{name:"theme-color-users-5",description:""},{name:"theme-color-users-6",description:""},{name:"theme-color-users-7",description:""}],W=[{name:"theme-color-background-main",description:"Background"},{name:"theme-color-action",description:"Action"},{name:"theme-color-action-hover",description:"Action Hover"},{name:"theme-color-components-primary-button-border",description:"Primary Button Border"},{name:"theme-color-components-primary-button-text",description:"Primary Button Text"},{name:"theme-color-components-chat-background",description:"Chat Background"},{name:"theme-color-components-chat-text",description:"Text: Chat"},{name:"theme-color-components-text-on-dark",description:"Text: Light"},{name:"theme-color-components-text-on-light",description:"Text: Dark"},{name:"theme-color-background-header",description:"Header/Footer"},{name:"theme-color-components-content-background",description:"Page Content"},{name:"theme-color-components-video-status-bar-background",description:"Video Status Bar Background"},{name:"theme-color-components-video-status-bar-foreground",description:"Video Status Bar Foreground"}],q=[{name:"theme-rounded-corners",description:"Corner radius"}],ee=[...W,...Q,...q].reduce((e,t)=>(e[t.name]={name:t.name,description:t.description},e),{}),et=n.memo(e=>{let{value:t,name:s,description:n,onChange:l}=e;return(0,a.jsxs)(M.Z,{span:3,children:[(0,a.jsx)("input",{type:"color",id:s,name:n,title:n,value:t,className:Y().colorPicker,onChange:e=>l(s,e.target.value,n)}),(0,a.jsx)("div",{style:{padding:"2px"},children:n})]},s)}),es=e=>{let{variables:t,updateColor:s}=e,n=t.map(e=>{let{name:t,description:n,value:l}=e;return(0,a.jsx)(et,{value:l,name:t,description:n,onChange:s},t)});return(0,a.jsx)(a.Fragment,{children:n})};function ea(){var e,t,s,l,i,o,c,d,u;let m=(0,n.useContext)(h.a),{serverConfig:x}=m,{instanceDetails:g}=x,{appearanceVariables:f}=g,[j,k]=(0,n.useState)(),[y,N]=(0,n.useState)(),[S,w]=(0,n.useState)(null),C=()=>{w(null),clearTimeout(null)},T=()=>{let e={};[...W,...Q,...q].forEach(t=>{let s=getComputedStyle(document.documentElement).getPropertyValue("--".concat(t.name));e[t.name]={value:s.trim(),description:t.description}}),k(e)};(0,n.useEffect)(()=>{T()},[]),(0,n.useEffect)(()=>{if(0===Object.keys(f).length)return;let e={};Object.keys(f).forEach(t=>{var s;e[t]={value:f[t],description:(null===(s=ee[t])||void 0===s?void 0:s.description)||""}}),N(e)},[f]);let E=(0,n.useCallback)((e,t,s)=>{N(a=>({...a,[e]:{value:t,description:s}}))},[]),Z=async()=>{await (0,p.Si)({apiPath:X,data:{value:{}},onSuccess:()=>{w((0,b.kg)(b.zv,"Updated.")),setTimeout(C,p.sI),N({})},onError:e=>{w((0,b.kg)(b.Un,e)),setTimeout(C,p.sI)}})},P=async()=>{let e={};Object.keys(y).forEach(t=>{e[t]=y[t].value}),await (0,p.Si)({apiPath:X,data:{value:e},onSuccess:()=>{w((0,b.kg)(b.zv,"Updated.")),setTimeout(C,p.sI)},onError:e=>{w((0,b.kg)(b.Un,e)),setTimeout(C,p.sI)}})},_=e=>{E("theme-rounded-corners","".concat(e.toString(),"px"),"")};if(!j)return(0,a.jsx)("div",{children:"Loading..."});let z=e=>e.map(e=>{let t=(null==y?void 0:y[e.name])?y:j,{name:s,description:a}=e,{value:n}=t[s];return{name:s,description:a,value:n}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(A.Z,{direction:"vertical",children:[(0,a.jsx)(D.Z,{children:"Customize Appearance"}),(0,a.jsx)(R.Z,{children:"The following colors are used across the user interface."}),(0,a.jsx)("div",{children:(0,a.jsxs)(B.default,{defaultActiveKey:["1"],children:[(0,a.jsxs)($,{header:(0,a.jsx)("strong",{children:"Section Colors"}),children:[(0,a.jsx)("p",{children:"Certain sections of the interface can be customized by selecting new colors for them."}),(0,a.jsx)(F.Z,{gutter:[16,16],children:(0,a.jsx)(es,{variables:z(W),updateColor:E})})]},"1"),(0,a.jsx)($,{header:(0,a.jsx)("strong",{children:"Chat User Colors"}),children:(0,a.jsx)(F.Z,{gutter:[16,16],children:(0,a.jsx)(es,{variables:z(Q),updateColor:E})})},"2"),(0,a.jsxs)($,{header:(0,a.jsx)("strong",{children:"Other Settings"}),children:["How rounded should corners be?",(0,a.jsxs)(F.Z,{gutter:[16,16],children:[(0,a.jsx)(M.Z,{span:12,children:(0,a.jsx)(J.Z,{min:0,max:20,tooltip:{formatter:null},onChange:e=>{_(e)},value:Number(null!==(d=null!==(c=null==y?void 0:null===(e=y["theme-rounded-corners"])||void 0===e?void 0:null===(t=e.value)||void 0===t?void 0:t.replace("px",""))&&void 0!==c?c:null==j?void 0:null===(s=j["theme-rounded-corners"])||void 0===s?void 0:null===(l=s.value)||void 0===l?void 0:l.replace("px",""))&&void 0!==d?d:0)})}),(0,a.jsx)(M.Z,{span:4,children:(0,a.jsx)("div",{style:{width:"100px",height:"30px",borderRadius:"".concat(null!==(u=null==y?void 0:null===(i=y["theme-rounded-corners"])||void 0===i?void 0:i.value)&&void 0!==u?u:null==j?void 0:null===(o=j["theme-rounded-corners"])||void 0===o?void 0:o.value),backgroundColor:"var(--theme-color-palette-7)"}})})]})]},"4")]})}),(0,a.jsxs)(A.Z,{direction:"horizontal",children:[(0,a.jsx)(r.Z,{type:"primary",onClick:P,children:"Save Colors"}),(0,a.jsx)(r.Z,{type:"ghost",onClick:Z,children:"Reset to Defaults"})]}),(0,a.jsx)(v.E,{status:S})]}),(0,a.jsx)("div",{className:"form-module page-content-module",children:(0,a.jsx)(H,{})})]})}var en=s(34261),el=s(122);let{Title:ei}=i.default,er=()=>{let[e,t]=(0,n.useState)("/* Enter custom Javascript here */"),[s,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),u=(0,n.useContext)(h.a),{serverConfig:m,setFieldInConfigState:x}=u||{},{instanceDetails:g}=m,{customJavascript:f}=g,j=null,k=()=>{l(null),o(!1),clearTimeout(j),j=null};async function y(){l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:p.JZ,data:{value:e},onSuccess:t=>{x({fieldName:"customJavascript",value:e,path:"instanceDetails"}),l((0,b.kg)(b.zv,t))},onError:e=>{l((0,b.kg)(b.Un,e))}}),j=setTimeout(k,p.sI)}(0,n.useEffect)(()=>{t(f)},[g]);let N=n.useCallback(e=>{t(e),e===f||i?e===f&&i&&o(!1):o(!0)},[]);return(0,a.jsxs)("div",{className:"edit-custom-css",children:[(0,a.jsx)(ei,{level:3,className:"section-title",children:"Customize your page with Javascript"}),(0,a.jsxs)("p",{className:"description",children:["Insert custom Javascript into your Owncast page to add your own functionality or to add 3rd party scripts. Read more about how to use this feature in the"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"Web page documentation."}),"."]}),(0,a.jsx)("p",{className:"description",children:"Please use raw Javascript, no HTML or any script tags."}),(0,a.jsx)(c.ZP,{value:e,placeholder:"/* Enter custom Javascript here */",theme:d.FZ,height:"200px",extensions:[(0,el.javascript)()],onChange:N}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"page-content-actions",children:[i&&(0,a.jsx)(r.Z,{type:"primary",onClick:y,children:"Save"}),(0,a.jsx)(v.E,{status:s})]})]})};function eo(){return(0,a.jsx)("div",{className:"config-public-details-page",children:(0,a.jsx)(l.Z,{defaultActiveKey:"1",centered:!0,items:[{label:"General",key:"1",children:(0,a.jsx)(U,{})},{label:"Appearance",key:"2",children:(0,a.jsx)(ea,{})},{label:"Custom Scripting",key:"3",children:(0,a.jsx)(er,{})}]})})}eo.getLayout=function(e){return(0,a.jsx)(en.l,{page:e})}},80693:function(e,t,s){"use strict";s.d(t,{Z7:function(){return a},dr:function(){return n},kR:function(){return i},y3:function(){return l}});let a=2097152,n=["image/png","image/jpeg","image/gif"];function l(e,t){let s=new FileReader;s.addEventListener("load",()=>t(s.result)),s.readAsDataURL(e)}function i(e){let t=Math.floor(Math.log(e)/Math.log(1024)),s=1*Number((e/Math.pow(1024,t)).toFixed(2));return"".concat(s," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}},8118:function(e){e.exports={colorPicker:"appearance_colorPicker__xsvcV"}}},function(e){e.O(0,[5762,2074,173,5874,7311,2414,4931,5402,6524,1664,5348,9915,1382,4041,3698,3013,4398,4526,4537,7809,9816,2118,6356,2343,1700,8290,8014,4261,9774,2888,179],function(){return e(e.s=39856)}),_N_E=e.O()}]);