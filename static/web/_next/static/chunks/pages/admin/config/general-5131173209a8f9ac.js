(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871],{39856:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/general",function(){return a(60060)}])},4349:function(e,t,a){"use strict";a.d(t,{Q:function(){return d},Y:function(){return u}});var s=a(85893),n=a(67294),l=a(53740),i=a(59361),r=a(67032),o=a(57520);let{Title:c}=l.default,d="#5a67d8",u=e=>{let{title:t,description:a,placeholder:l,maxLength:u,values:m,handleDeleteIndex:h,handleCreateString:p,submitStatus:x,continuousStatusMessage:f}=e,[g,j]=(0,n.useState)("");return(0,s.jsxs)("div",{className:"edit-string-array-container",children:[(0,s.jsx)(c,{level:3,className:"section-title",children:t}),(0,s.jsx)("p",{className:"description",children:a}),(0,s.jsx)("div",{className:"edit-current-strings",children:null==m?void 0:m.map((e,t)=>(0,s.jsx)(i.Z,{closable:!0,onClose:()=>{h(t)},color:d,children:e},"tag-".concat(e,"-").concat(t)))}),f&&(0,s.jsx)("div",{className:"continuous-status-section",children:(0,s.jsx)(o.E,{status:f})}),(0,s.jsx)("div",{className:"add-new-string-section",children:(0,s.jsx)(r.nv,{fieldName:"string-input",value:g,onChange:e=>{let{value:t}=e;j(t)},onPressEnter:()=>{let e=g.trim();p(e),j("")},maxLength:u,placeholder:l,status:x})})]})};u.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},44716:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s=a(85893),n=a(67294),l=a(40987),i=a(91332),r=a(57520),o=a(24044),c=a(38631);let d=e=>{let{apiPath:t,checked:a,reversed:d=!1,configPath:u="",disabled:m=!1,fieldName:h,label:p,tip:x,useSubmit:f,onChange:g}=e,[j,v]=(0,n.useState)(null),b=null,k=(0,n.useContext)(c.a),{setFieldInConfigState:y}=k||{},N=()=>{v(null),clearTimeout(b),b=null},S=async e=>{if(f){v((0,i.kg)(i.Jk));let a=d?!e:e;await (0,o.Si)({apiPath:t,data:{value:a},onSuccess:()=>{y({fieldName:h,value:a,path:u}),v((0,i.kg)(i.zv))},onError:e=>{v((0,i.kg)(i.Un,"There was an error: ".concat(e)))}}),b=setTimeout(N,o.sI)}g&&g(e)},w=null!==j&&j.type===i.Jk;return(0,s.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[p&&(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:p})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)(l.Z,{className:"switch field-".concat(h),loading:w,onChange:S,defaultChecked:a,checked:a,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:m}),(0,s.jsx)(r.E,{status:j})]}),(0,s.jsx)("p",{className:"field-tip",children:x})]})]})};d.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},97469:function(e,t,a){"use strict";a.d(t,{Z:function(){return w}});var s=a(85893),n=a(67294),l=a(53740),i=a(2307),r=a(65400),o=a(56697),c=a(51024),d=a(5152),u=a.n(d),m=a(64749),h=a(24044);let p=e=>{let{iconList:t,selectedOption:a,onSelected:n}=e,l=""===a?null:a;return(0,s.jsxs)("div",{className:"social-dropdown-container",children:[(0,s.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,s.jsxs)("div",{className:"formfield-container",children:[(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,s.jsx)("div",{className:"input-side",children:(0,s.jsxs)(m.default,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:l,value:l,onSelect:e=>{n&&n(e)},children:[t.map(e=>{let{platform:t,icon:a,key:n}=e;return(0,s.jsxs)(m.default.Option,{className:"social-option",value:n,children:[(0,s.jsx)("span",{className:"option-icon",children:(0,s.jsx)("img",{src:a,alt:"",className:"option-icon"})}),(0,s.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(n))}),(0,s.jsx)(m.default.Option,{className:"social-option",value:h.z_,children:"Other..."},"platform-".concat(h.z_))]})})]})]})};var x=a(81453),f=a(38631),g=a(53899),j=a(67032),v=a(91332),b=a(57520);let{Title:k}=l.default,y=u()(()=>Promise.resolve().then(a.t.bind(a,18244,23)),{loadableGenerated:{webpack:()=>[18244]},ssr:!1}),N=u()(()=>Promise.resolve().then(a.t.bind(a,22802,23)),{loadableGenerated:{webpack:()=>[22802]},ssr:!1}),S=u()(()=>a.e(7949).then(a.t.bind(a,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1});function w(){var e,t;let[a,l]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,w]=(0,n.useState)(!1),[C,T]=(0,n.useState)(!1),[E,P]=(0,n.useState)(!1),[Z,_]=(0,n.useState)(-1),[z,I]=(0,n.useState)(h.wC),[L,O]=(0,n.useState)(null),U=(0,n.useContext)(f.a),{serverConfig:B,setFieldInConfigState:M}=U||{},{instanceDetails:A}=B,{socialHandles:F}=A,J=async()=>{try{let e=await (0,x.rQ)(x.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));l(t)}catch(e){console.log(e)}},R=e=>a.find(t=>t.key===e)||!1,D=""!==z.platform&&!a.find(e=>e.key===z.platform);(0,n.useEffect)(()=>{J()},[]),(0,n.useEffect)(()=>{A.socialHandles&&u(F)},[A]);let V=()=>{O(null),clearTimeout(null)},G=()=>{w(!1),_(-1),T(!1),P(!1),I({...h.wC})},H=()=>{G()},K=(e,t)=>{I({...z,[e]:t})},Y=async e=>{await (0,h.Si)({apiPath:h.c9,data:{value:e},onSuccess:()=>{M({fieldName:"socialHandles",value:e,path:"instanceDetails"}),P(!1),H(),O((0,v.kg)(v.zv)),setTimeout(V,h.sI)},onError:e=>{O((0,v.kg)(v.Un,"There was an error: ".concat(e))),P(!1),setTimeout(V,h.sI)}})},$=e=>{let t=[...d];t.splice(e,1),Y(t)},X=e=>{if(e<=0||e>=d.length)return;let t=[...d],a=t[e-1];t[e-1]=t[e],t[e]=a,Y(t)},Q=e=>{if(e<0||e>=d.length-1)return;let t=[...d],a=t[e+1];t[e+1]=t[e],t[e]=a,Y(t)},W=[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:a,url:n}=t,l=R(a);if(!l)return(0,s.jsx)("div",{className:"social-handle-cell",children:(0,s.jsxs)("p",{className:"option-label",children:[(0,s.jsx)("strong",{children:a}),(0,s.jsx)("span",{className:"handle-url",title:n,children:n})]})});let{icon:i,platform:r}=l;return(0,s.jsxs)("div",{className:"social-handle-cell",children:[(0,s.jsx)("span",{className:"option-icon",children:(0,s.jsx)("img",{src:i,alt:"",className:"option-icon"})}),(0,s.jsxs)("p",{className:"option-label",children:[(0,s.jsx)("strong",{children:r}),(0,s.jsx)("span",{className:"handle-url",title:n,children:n})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,a)=>(0,s.jsxs)("div",{className:"actions",children:[(0,s.jsx)(r.default,{size:"small",onClick:()=>{let e=d[a];_(a),I({...e}),w(!0),R(e.platform)||T(!0)},children:"Edit"}),(0,s.jsx)(r.default,{icon:(0,s.jsx)(N,{}),size:"small",hidden:0===a,onClick:()=>X(a)}),(0,s.jsx)(r.default,{icon:(0,s.jsx)(y,{}),size:"small",hidden:a===d.length-1,onClick:()=>Q(a)}),(0,s.jsx)(r.default,{className:"delete-button",icon:(0,s.jsx)(S,{}),size:"small",onClick:()=>$(a)})]})}],q={disabled:(e=z.url,"xmpp"===(t=z.platform)?!(0,g.Kf)(e,"xmpp"):"matrix"===t?!(0,g.bu)(e):!(0,g.jv)(e))},ee=(0,s.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,s.jsx)("div",{className:"label-side"}),(0,s.jsx)("div",{className:"input-side",children:(0,s.jsx)(c.default,{placeholder:"Other platform name",defaultValue:z.platform,onChange:e=>{let{value:t}=e.target;K("platform",t)}})})]});return(0,s.jsxs)("div",{className:"social-links-edit-container",children:[(0,s.jsx)(k,{level:3,className:"section-title",children:"Your Social Handles"}),(0,s.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,s.jsx)(b.E,{status:L}),(0,s.jsx)(i.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:W,dataSource:d}),(0,s.jsx)(o.default,{title:"Edit Social Handle",open:m,onOk:()=>{P(!0);let e=d.length?[...d]:[];-1===Z?e.push(z):e.splice(Z,1,z),Y(e)},onCancel:H,confirmLoading:E,okButtonProps:q,children:(0,s.jsxs)("div",{className:"social-handle-modal-content",children:[(0,s.jsx)(p,{iconList:a,selectedOption:D?h.z_:z.platform,onSelected:e=>{e===h.z_?(T(!0),K("platform","")):(T(!1),K("platform",e))}}),C&&ee,(0,s.jsx)("br",{}),(0,s.jsx)(j.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[z.platform]||"Url to page",value:z.url,onChange:e=>{let{value:t}=e;K("url",t)},useTrim:!0,type:"url",pattern:g.ax}),(0,s.jsx)(b.E,{status:L})]})}),(0,s.jsx)("br",{}),(0,s.jsx)(r.default,{type:"primary",onClick:()=>{G(),w(!0)},children:"Add a new social link"})]})}},60060:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eo}});var s=a(85893),n=a(67294),l=a(20838),i=a(65400),r=a(53740),o=a(48825),c=a(95089),d=a(58909),u=a(76538),m=a(78353),h=a(38631),p=a(24044),x=a(44716),f=a(28465),g=a(5152),j=a.n(g),v=a(57520),b=a(91332),k=a(81453),y=a(80693);let N=j()(()=>Promise.resolve().then(a.t.bind(a,628,23)),{loadableGenerated:{webpack:()=>[628]},ssr:!1}),S=j()(()=>a.e(9876).then(a.t.bind(a,29876,23)),{loadableGenerated:{webpack:()=>[29876]},ssr:!1}),w=()=>{var e;let[t,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!1),[o,c]=(0,n.useState)(0),d=(0,n.useContext)(h.a),{setFieldInConfigState:u,serverConfig:m}=d||{},x=null==m?void 0:null===(e=m.instanceDetails)||void 0===e?void 0:e.logo,[g,j]=(0,n.useState)(null),w=null,{apiPath:C,tip:T}=p.TEXTFIELD_PROPS_LOGO,E=()=>{j(null),clearTimeout(w),w=null},P=async()=>{t!==x&&(j((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:C,data:{value:t},onSuccess:()=>{u({fieldName:"logo",value:t,path:""}),j((0,b.kg)(b.zv)),r(!1),c(Math.floor(100*Math.random()))},onError:e=>{j((0,b.kg)(b.Un,"There was an error: ".concat(e))),r(!1)}}),w=setTimeout(E,p.sI))},Z="".concat(k.WB,"logo?random=").concat(o);return(0,s.jsxs)("div",{className:"formfield-container logo-upload-container",children:[(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:"Logo"})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("img",{src:Z,alt:"avatar",className:"logo-preview"}),(0,s.jsx)(f.Z,{name:"logo",listType:"picture",className:"avatar-uploader",showUploadList:!1,accept:y.dr.join(","),beforeUpload:e=>(r(!0),new Promise((t,s)=>{if(e.size>y.Z7){let t="File size is too big: ".concat((0,y.kR)(e.size));return j((0,b.kg)(b.Un,"There was an error: ".concat(t))),w=setTimeout(E,p.sI),r(!1),s()}if(!y.dr.includes(e.type)){let t="File type is not supported: ".concat(e.type);return j((0,b.kg)(b.Un,"There was an error: ".concat(t))),w=setTimeout(E,p.sI),r(!1),s()}(0,y.y3)(e,e=>{a(e),setTimeout(()=>t(),100)})})),customRequest:P,disabled:l,children:l?(0,s.jsx)(N,{style:{color:"white"}}):(0,s.jsx)(i.default,{icon:(0,s.jsx)(S,{})})})]}),(0,s.jsx)(v.E,{status:g}),(0,s.jsx)("p",{className:"field-tip",children:T})]})]})},{Title:C}=r.default;function T(){let[e,t]=(0,n.useState)(null),a=(0,n.useContext)(h.a),{serverConfig:l}=a||{},{instanceDetails:r,yp:f,hideViewerCount:g,disableSearchIndexing:j}=l,{instanceUrl:k}=f,[y,N]=(0,n.useState)(null);if((0,n.useEffect)(()=>{t({...r,...f,hideViewerCount:g,disableSearchIndexing:j})},[r,f]),!e)return null;let S=a=>{let{fieldName:s,value:n}=a;t({...e,[s]:n})},T=""!==k;return(0,s.jsxs)("div",{className:"edit-general-settings",children:[(0,s.jsx)(C,{level:3,className:"section-title",children:"Configure Instance Details"}),(0,s.jsx)("br",{}),(0,s.jsx)(m.$7,{fieldName:"name",...p.RE,value:e.name,initialValue:r.name,onChange:S}),(0,s.jsx)(m.$7,{fieldName:"instanceUrl",...p.cj,value:e.instanceUrl,initialValue:f.instanceUrl,type:m.xA,onChange:S,onSubmit:()=>{""===e.instanceUrl&&!0===f.enabled&&(0,p.Si)({apiPath:p.AP,data:{value:!1}})}}),(0,s.jsx)(m.$7,{fieldName:"summary",...p.rs,type:m.Sk,value:e.summary,initialValue:r.summary,onChange:S}),(0,s.jsxs)("div",{style:{marginBottom:"50px",marginRight:"150px"},children:[(0,s.jsxs)("div",{style:{display:"flex",width:"80vh",justifyContent:"space-between",alignItems:"end"},children:[(0,s.jsx)("p",{style:{margin:"20px",marginRight:"10px",fontWeight:"400"},children:"Offline Message:"}),(0,s.jsx)(c.ZP,{value:e.offlineMessage,...p.rd,theme:d.FZ,height:"150px",width:"450px",onChange:e=>{S({fieldName:"offlineMessage",value:e})},extensions:[(0,o.markdown)({base:o.markdownLanguage,codeLanguages:u.M})]})]}),(0,s.jsx)("div",{className:"field-tip",children:"The offline message is displayed to your page visitors when you're not streaming. Markdown is supported."}),(0,s.jsx)(i.default,{type:"primary",onClick:()=>{(0,p.Si)({apiPath:p.bJ,data:{value:e.offlineMessage}}),N((0,b.kg)(b.zv)),setTimeout(()=>{N(null)},2e3)},style:{margin:"10px",float:"right"},children:"Save Message"}),(0,s.jsx)(v.Z,{status:y})]}),(0,s.jsx)(w,{}),(0,s.jsx)(x.Z,{fieldName:"hideViewerCount",useSubmit:!0,...p._X,checked:e.hideViewerCount,onChange:function(e){S({fieldName:"hideViewerCount",value:e})}}),(0,s.jsx)(x.Z,{fieldName:"disableSearchIndexing",useSubmit:!0,...p.il,checked:e.disableSearchIndexing,onChange:function(e){S({fieldName:"disableSearchIndexing",value:e})}}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{className:"description",children:["Increase your audience by appearing in the"," ",(0,s.jsx)("a",{href:"https://directory.owncast.online",target:"_blank",rel:"noreferrer",children:(0,s.jsx)("strong",{children:"Owncast Directory"})}),". This is an external service run by the Owncast project."," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/directory/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more"}),"."]}),!f.instanceUrl&&(0,s.jsxs)("p",{className:"description",children:["You must set your ",(0,s.jsx)("strong",{children:"Server URL"})," above to enable the directory."]}),(0,s.jsxs)("div",{className:"config-yp-container",children:[(0,s.jsx)(x.Z,{fieldName:"enabled",useSubmit:!0,...p.P,checked:e.enabled,disabled:!T}),(0,s.jsx)(x.Z,{fieldName:"nsfw",useSubmit:!0,...p.EY,checked:e.nsfw,disabled:!T})]})]})}var E=a(59361),P=a(67032),Z=a(4349);let{Title:_}=r.default;function z(){let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(null),i=(0,n.useContext)(h.a),{serverConfig:r,setFieldInConfigState:o}=i||{},{instanceDetails:c}=r,{tags:d=[]}=c,{apiPath:u,maxLength:m,placeholder:x,configPath:f}=p.FIELD_PROPS_TAGS,g=null;(0,n.useEffect)(()=>()=>{clearTimeout(g)},[]);let j=()=>{l(null),clearTimeout(g=null)},v=async e=>{l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:u,data:{value:e},onSuccess:()=>{o({fieldName:"tags",value:e,path:f}),l((0,b.kg)(b.zv,"Tags updated.")),t(""),g=setTimeout(j,p.sI)},onError:e=>{l((0,b.kg)(b.Un,e)),g=setTimeout(j,p.sI)}})},k=e=>{j();let t=[...d];t.splice(e,1),v(t)};return(0,s.jsxs)("div",{className:"tag-editor-container",children:[(0,s.jsx)(_,{level:3,className:"section-title",children:"Add Tags"}),(0,s.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,s.jsx)("div",{className:"edit-current-strings",children:d.map((e,t)=>(0,s.jsx)(E.Z,{closable:!0,onClose:()=>{k(t)},color:Z.Q,children:e},"tag-".concat(e,"-").concat(t)))}),(0,s.jsx)("div",{className:"add-new-string-section",children:(0,s.jsx)(P.nv,{fieldName:"tag-input",value:e,className:"new-tag-input",onChange:e=>{let{value:s}=e;a||l(null),t(s)},onPressEnter:()=>{j();let t=e.trim();if(""===t){l((0,b.kg)(b.dG,"Please enter a tag"));return}if(d.some(e=>e.toLowerCase()===t.toLowerCase())){l((0,b.kg)(b.dG,"This tag is already used!"));return}let a=[...d,t];v(a)},maxLength:m,placeholder:x,status:a})})]})}var I=a(97469);let{Title:L}=r.default;function O(){let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(null),[r,m]=(0,n.useState)(!1),x=(0,n.useContext)(h.a),{serverConfig:f,setFieldInConfigState:g}=x||{},{instanceDetails:j}=f,{extraPageContent:k}=j,y=null,N=()=>{l(null),m(!1),clearTimeout(y),y=null};async function S(){l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:p.AA,data:{value:e},onSuccess:t=>{g({fieldName:"extraPageContent",value:e,path:"instanceDetails"}),l((0,b.kg)(b.zv,t))},onError:e=>{l((0,b.kg)(b.Un,e))}}),y=setTimeout(N,p.sI)}return(0,n.useEffect)(()=>{t(k)},[j]),(0,s.jsxs)("div",{className:"edit-page-content",children:[(0,s.jsx)(L,{level:3,className:"section-title",children:"Custom Page Content"}),(0,s.jsxs)("p",{className:"description",children:["Edit the content of your page by using simple"," ",(0,s.jsx)("a",{href:"https://www.markdownguide.org/basic-syntax/",target:"_blank",rel:"noopener noreferrer",children:"Markdown syntax"}),"."]}),(0,s.jsx)(c.ZP,{value:e,placeholder:"Enter your custom page content here...",theme:d.FZ,height:"200px",onChange:function(e){t(e),e===k||r?e===k&&r&&m(!1):m(!0)},extensions:[(0,o.markdown)({base:o.markdownLanguage,codeLanguages:u.M})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"page-content-actions",children:[r&&(0,s.jsx)(i.default,{type:"primary",onClick:S,children:"Save"}),(0,s.jsx)(v.E,{status:a})]})]})}function U(){return(0,s.jsxs)("div",{className:"config-public-details-page",children:[(0,s.jsxs)("p",{className:"description",children:["The following are displayed on your site to describe your stream and its content."," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/website/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more."})]}),(0,s.jsxs)("div",{className:"top-container",children:[(0,s.jsx)("div",{className:"form-module instance-details-container",children:(0,s.jsx)(T,{})}),(0,s.jsxs)("div",{className:"form-module social-items-container ",children:[(0,s.jsx)("div",{className:"form-module tags-module",children:(0,s.jsx)(z,{})}),(0,s.jsx)("div",{className:"form-module social-handles-container",children:(0,s.jsx)(I.Z,{})})]})]}),(0,s.jsx)("div",{className:"form-module page-content-module",children:(0,s.jsx)(O,{})})]})}var B=a(5789),M=a(68469),A=a(55673),F=a(36155),J=a(74048),R=a(21987),D=a(11700),V=a(48120);let{Title:G}=r.default,H=()=>{let[e,t]=(0,n.useState)("/* Enter custom CSS here */"),[a,l]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),u=(0,n.useContext)(h.a),{serverConfig:m,setFieldInConfigState:x}=u||{},{instanceDetails:f}=m,{customStyles:g}=f,j=null,k=()=>{l(null),o(!1),clearTimeout(j),j=null};async function y(){l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:p.d$,data:{value:e},onSuccess:t=>{x({fieldName:"customStyles",value:e,path:"instanceDetails"}),l((0,b.kg)(b.zv,t))},onError:e=>{l((0,b.kg)(b.Un,e))}}),j=setTimeout(k,p.sI)}(0,n.useEffect)(()=>{t(g)},[f]);let N=n.useCallback(e=>{t(e),e===g||r?e===g&&r&&o(!1):o(!0)},[]);return(0,s.jsxs)("div",{className:"edit-custom-css",children:[(0,s.jsx)(G,{level:3,className:"section-title",children:"Customize your page styling with CSS"}),(0,s.jsxs)("p",{className:"description",children:["Customize the look and feel of your Owncast instance by overriding the CSS styles of various components on the page. Refer to the"," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"CSS & Components guide"}),"."]}),(0,s.jsx)("p",{className:"description",children:"Please input plain CSS text, as this will be directly injected onto your page during load."}),(0,s.jsx)(c.ZP,{value:e,placeholder:"/* Enter custom CSS here */",theme:d.FZ,height:"200px",extensions:[(0,V.css)()],onChange:N}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"page-content-actions",children:[r&&(0,s.jsx)(i.default,{type:"primary",onClick:y,children:"Save"}),(0,s.jsx)(v.E,{status:a})]})]})};var K=a(8118),Y=a.n(K);let{Panel:$}=M.default,X="/appearance",Q=[{name:"theme-color-users-0",description:""},{name:"theme-color-users-1",description:""},{name:"theme-color-users-2",description:""},{name:"theme-color-users-3",description:""},{name:"theme-color-users-4",description:""},{name:"theme-color-users-5",description:""},{name:"theme-color-users-6",description:""},{name:"theme-color-users-7",description:""}],W=[{name:"theme-color-background-main",description:"Background"},{name:"theme-color-action",description:"Action"},{name:"theme-color-action-hover",description:"Action Hover"},{name:"theme-color-components-primary-button-border",description:"Primary Button Border"},{name:"theme-color-components-primary-button-text",description:"Primary Button Text"},{name:"theme-color-components-chat-background",description:"Chat Background"},{name:"theme-color-components-chat-text",description:"Text: Chat"},{name:"theme-color-components-text-on-dark",description:"Text: Light"},{name:"theme-color-components-text-on-light",description:"Text: Dark"},{name:"theme-color-background-header",description:"Header/Footer"},{name:"theme-color-components-content-background",description:"Page Content"},{name:"theme-color-components-video-status-bar-background",description:"Video Status Bar Background"},{name:"theme-color-components-video-status-bar-foreground",description:"Video Status Bar Foreground"}],q=[{name:"theme-rounded-corners",description:"Corner radius"}],ee=[...W,...Q,...q].reduce((e,t)=>(e[t.name]={name:t.name,description:t.description},e),{}),et=n.memo(e=>{let{value:t,name:a,description:n,onChange:l}=e;return(0,s.jsxs)(B.Z,{span:3,children:[(0,s.jsx)("input",{type:"color",id:a,name:n,title:n,value:t,className:Y().colorPicker,onChange:e=>l(a,e.target.value,n)}),(0,s.jsx)("div",{style:{padding:"2px"},children:n})]},a)}),ea=e=>{let{variables:t,updateColor:a}=e,n=t.map(e=>{let{name:t,description:n,value:l}=e;return(0,s.jsx)(et,{value:l,name:t,description:n,onChange:a},t)});return(0,s.jsx)(s.Fragment,{children:n})};function es(){var e,t,a,l,r,o,c,d,u;let m=(0,n.useContext)(h.a),{serverConfig:x,setFieldInConfigState:f}=m,{instanceDetails:g}=x,{appearanceVariables:j}=g,[k,y]=(0,n.useState)(),[N,S]=(0,n.useState)(),[w,C]=(0,n.useState)(null),T=()=>{C(null),clearTimeout(null)},E=()=>{let e={};[...W,...Q,...q].forEach(t=>{let a=getComputedStyle(document.documentElement).getPropertyValue("--".concat(t.name));e[t.name]={value:a.trim(),description:t.description}}),y(e)};(0,n.useEffect)(()=>{E()},[]),(0,n.useEffect)(()=>{if(0===Object.keys(j).length)return;let e={};Object.keys(j).forEach(t=>{var a;e[t]={value:j[t],description:(null===(a=ee[t])||void 0===a?void 0:a.description)||""}}),S(e)},[j]);let P=(0,n.useCallback)((e,t,a)=>{S(s=>({...s,[e]:{value:t,description:a}}))},[]),Z=async()=>{await (0,p.Si)({apiPath:X,data:{value:{}},onSuccess:()=>{C((0,b.kg)(b.zv,"Updated.")),setTimeout(T,p.sI),S({})},onError:e=>{C((0,b.kg)(b.Un,e)),setTimeout(T,p.sI)}})},_=async()=>{let e={};Object.keys(N).forEach(t=>{e[t]=N[t].value}),await (0,p.Si)({apiPath:X,data:{value:e},onSuccess:()=>{C((0,b.kg)(b.zv,"Updated.")),setTimeout(T,p.sI),f({fieldName:"appearanceVariables",value:e,path:"instanceDetails"})},onError:e=>{C((0,b.kg)(b.Un,e)),setTimeout(T,p.sI)}})},z=e=>{P("theme-rounded-corners","".concat(e.toString(),"px"),"")};if(!k)return(0,s.jsx)("div",{children:"Loading..."});let I=e=>e.map(e=>{let t=(null==N?void 0:N[e.name])?N:k,{name:a,description:s}=e,{value:n}=t[a];return{name:a,description:s,value:n}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(J.default,{direction:"vertical",children:[(0,s.jsx)(D.default,{children:"Customize Appearance"}),(0,s.jsx)(R.default,{children:"The following colors are used across the user interface."}),(0,s.jsx)("div",{children:(0,s.jsxs)(M.default,{defaultActiveKey:["1"],children:[(0,s.jsxs)($,{header:(0,s.jsx)("strong",{children:"Section Colors"}),children:[(0,s.jsx)("p",{children:"Certain sections of the interface can be customized by selecting new colors for them."}),(0,s.jsx)(A.Z,{gutter:[16,16],children:(0,s.jsx)(ea,{variables:I(W),updateColor:P})})]},"1"),(0,s.jsx)($,{header:(0,s.jsx)("strong",{children:"Chat User Colors"}),children:(0,s.jsx)(A.Z,{gutter:[16,16],children:(0,s.jsx)(ea,{variables:I(Q),updateColor:P})})},"2"),(0,s.jsxs)($,{header:(0,s.jsx)("strong",{children:"Other Settings"}),children:["How rounded should corners be?",(0,s.jsxs)(A.Z,{gutter:[16,16],children:[(0,s.jsx)(B.Z,{span:12,children:(0,s.jsx)(F.Z,{min:0,max:20,tooltip:{formatter:null},onChange:e=>{z(e)},value:Number(null!==(d=null!==(c=null==N?void 0:null===(t=N["theme-rounded-corners"])||void 0===t?void 0:null===(e=t.value)||void 0===e?void 0:e.replace("px",""))&&void 0!==c?c:null==k?void 0:null===(l=k["theme-rounded-corners"])||void 0===l?void 0:null===(a=l.value)||void 0===a?void 0:a.replace("px",""))&&void 0!==d?d:0)})}),(0,s.jsx)(B.Z,{span:4,children:(0,s.jsx)("div",{style:{width:"100px",height:"30px",borderRadius:"".concat(null!==(u=null==N?void 0:null===(r=N["theme-rounded-corners"])||void 0===r?void 0:r.value)&&void 0!==u?u:null==k?void 0:null===(o=k["theme-rounded-corners"])||void 0===o?void 0:o.value),backgroundColor:"var(--theme-color-palette-7)"}})})]})]},"4")]})}),(0,s.jsxs)(J.default,{direction:"horizontal",children:[(0,s.jsx)(i.default,{type:"primary",onClick:_,children:"Save Colors"}),(0,s.jsx)(i.default,{type:"ghost",onClick:Z,children:"Reset to Defaults"})]}),(0,s.jsx)(v.E,{status:w})]}),(0,s.jsx)("div",{className:"form-module page-content-module",children:(0,s.jsx)(H,{})})]})}var en=a(34261),el=a(122);let{Title:ei}=r.default,er=()=>{let[e,t]=(0,n.useState)("/* Enter custom Javascript here */"),[a,l]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1),u=(0,n.useContext)(h.a),{serverConfig:m,setFieldInConfigState:x}=u||{},{instanceDetails:f}=m,{customJavascript:g}=f,j=null,k=()=>{l(null),o(!1),clearTimeout(j),j=null};async function y(){l((0,b.kg)(b.Jk)),await (0,p.Si)({apiPath:p.JZ,data:{value:e},onSuccess:t=>{x({fieldName:"customJavascript",value:e,path:"instanceDetails"}),l((0,b.kg)(b.zv,t))},onError:e=>{l((0,b.kg)(b.Un,e))}}),j=setTimeout(k,p.sI)}(0,n.useEffect)(()=>{t(g)},[f]);let N=n.useCallback(e=>{t(e),e===g||r?e===g&&r&&o(!1):o(!0)},[]);return(0,s.jsxs)("div",{className:"edit-custom-css",children:[(0,s.jsx)(ei,{level:3,className:"section-title",children:"Customize your page with Javascript"}),(0,s.jsxs)("p",{className:"description",children:["Insert custom Javascript into your Owncast page to add your own functionality or to add 3rd party scripts. Read more about how to use this feature in the"," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"Web page documentation."}),"."]}),(0,s.jsx)("p",{className:"description",children:"Please use raw Javascript, no HTML or any script tags."}),(0,s.jsx)(c.ZP,{value:e,placeholder:"/* Enter custom Javascript here */",theme:d.FZ,height:"200px",extensions:[(0,el.javascript)()],onChange:N}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"page-content-actions",children:[r&&(0,s.jsx)(i.default,{type:"primary",onClick:y,children:"Save"}),(0,s.jsx)(v.E,{status:a})]})]})};function eo(){return(0,s.jsx)("div",{className:"config-public-details-page",children:(0,s.jsx)(l.default,{defaultActiveKey:"1",centered:!0,items:[{label:"General",key:"1",children:(0,s.jsx)(U,{})},{label:"Appearance",key:"2",children:(0,s.jsx)(es,{})},{label:"Custom Scripting",key:"3",children:(0,s.jsx)(er,{})}]})})}eo.getLayout=function(e){return(0,s.jsx)(en.l,{page:e})}},80693:function(e,t,a){"use strict";a.d(t,{Z7:function(){return s},dr:function(){return n},kR:function(){return i},y3:function(){return l}});let s=2097152,n=["image/png","image/jpeg","image/gif"];function l(e,t){let a=new FileReader;a.addEventListener("load",()=>t(a.result)),a.readAsDataURL(e)}function i(e){let t=Math.floor(Math.log(e)/Math.log(1024)),a=1*Number((e/Math.pow(1024,t)).toFixed(2));return"".concat(a," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}},8118:function(e){e.exports={colorPicker:"appearance_colorPicker__8KOjx"}}},function(e){e.O(0,[5762,5596,1130,4104,9403,1024,3942,971,6697,1664,1749,1700,2122,9552,7752,5891,2891,4749,6627,8966,3068,4938,8469,5560,5056,8465,4060,4261,9774,2888,179],function(){return e(e.s=39856)}),_N_E=e.O()}]);