(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{26803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"}},56338:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,n=(l=a(5661))&&l.__esModule?l:{default:l};t.default=n,e.exports=n},5661:function(e,t,a){"use strict";var l=a(64836),n=a(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(42122)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(l,o,s):l[o]=e[o]}return l.default=e,a&&a.set(e,l),l}(a(67294)),s=l(a(26803)),c=l(a(92074));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}var u=function(e,t){return o.createElement(c.default,(0,r.default)((0,r.default)({},e),{},{ref:t,icon:s.default}))};u.displayName="UpOutlined";var d=o.forwardRef(u);t.default=d},8799:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;t.Z=void 0;var r=n(a(10434)),o=n(a(38416)),s=n(a(18698)),c=n(a(27424)),i=n(a(5085)),u=n(a(56338)),d=n(a(94184)),f=n(a(82122)),p=l(a(67294)),m=a(31929),v=n(a(93319)),h=n(a(3236)),x=a(51130),b=a(46549),j=a(47419),y=a(71434),g=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a},w=p.forwardRef(function(e,t){var a=p.useContext(m.ConfigContext),l=a.getPrefixCls,n=a.direction,w=p.useContext(h.default),N=p.useState(!1),O=(0,c.default)(N,2),E=O[0],S=O[1],k=p.useRef(null);p.useImperativeHandle(t,function(){return k.current});var C=e.className,_=e.size,P=e.disabled,I=e.prefixCls,M=e.addonBefore,z=e.addonAfter,Z=e.prefix,T=e.bordered,H=void 0===T||T,F=e.readOnly,L=e.status,R=e.controls,A=g(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),B=l("input-number",I),U=(0,b.useCompactItemContext)(B,n),D=U.compactSize,G=U.compactItemClassnames,W=p.createElement(u.default,{className:"".concat(B,"-handler-up-inner")}),K=p.createElement(i.default,{className:"".concat(B,"-handler-down-inner")}),V="boolean"==typeof R?R:void 0;"object"===(0,s.default)(R)&&(W=void 0===R.upIcon?W:p.createElement("span",{className:"".concat(B,"-handler-up-inner")},R.upIcon),K=void 0===R.downIcon?K:p.createElement("span",{className:"".concat(B,"-handler-down-inner")},R.downIcon));var X=(0,p.useContext)(x.FormItemInputContext),Q=X.hasFeedback,Y=X.status,$=X.isFormItemInput,q=X.feedbackIcon,J=(0,y.getMergedStatus)(Y,L),ee=D||_||w,et=p.useContext(v.default),ea=null!=P?P:et,el=(0,d.default)((er={},(0,o.default)(er,"".concat(B,"-lg"),"large"===ee),(0,o.default)(er,"".concat(B,"-sm"),"small"===ee),(0,o.default)(er,"".concat(B,"-rtl"),"rtl"===n),(0,o.default)(er,"".concat(B,"-borderless"),!H),(0,o.default)(er,"".concat(B,"-in-form-item"),$),er),(0,y.getStatusClassNames)(B,J),G,C),en=p.createElement(f.default,(0,r.default)({ref:k,disabled:ea,className:el,upHandler:W,downHandler:K,prefixCls:B,readOnly:F,controls:V},A));if(null!=Z||Q){var er,eo,es=(0,d.default)("".concat(B,"-affix-wrapper"),(0,y.getStatusClassNames)("".concat(B,"-affix-wrapper"),J,Q),(eo={},(0,o.default)(eo,"".concat(B,"-affix-wrapper-focused"),E),(0,o.default)(eo,"".concat(B,"-affix-wrapper-disabled"),e.disabled),(0,o.default)(eo,"".concat(B,"-affix-wrapper-sm"),"small"===w),(0,o.default)(eo,"".concat(B,"-affix-wrapper-lg"),"large"===w),(0,o.default)(eo,"".concat(B,"-affix-wrapper-rtl"),"rtl"===n),(0,o.default)(eo,"".concat(B,"-affix-wrapper-readonly"),F),(0,o.default)(eo,"".concat(B,"-affix-wrapper-borderless"),!H),(0,o.default)(eo,"".concat(C),!(M||z)&&C),eo));en=p.createElement("div",{className:es,style:e.style,onMouseUp:function(){return k.current.focus()}},Z&&p.createElement("span",{className:"".concat(B,"-prefix")},Z),(0,j.cloneElement)(en,{style:null,value:e.value,onFocus:function(t){var a;S(!0),null===(a=e.onFocus)||void 0===a||a.call(e,t)},onBlur:function(t){var a;S(!1),null===(a=e.onBlur)||void 0===a||a.call(e,t)}}),Q&&p.createElement("span",{className:"".concat(B,"-suffix")},q))}if(null!=M||null!=z){var ec,ei="".concat(B,"-group"),eu="".concat(ei,"-addon"),ed=M?p.createElement("div",{className:eu},M):null,ef=z?p.createElement("div",{className:eu},z):null,ep=(0,d.default)("".concat(B,"-wrapper"),ei,(0,o.default)({},"".concat(ei,"-rtl"),"rtl"===n)),em=(0,d.default)("".concat(B,"-group-wrapper"),(ec={},(0,o.default)(ec,"".concat(B,"-group-wrapper-sm"),"small"===w),(0,o.default)(ec,"".concat(B,"-group-wrapper-lg"),"large"===w),(0,o.default)(ec,"".concat(B,"-group-wrapper-rtl"),"rtl"===n),ec),(0,y.getStatusClassNames)("".concat(B,"-group-wrapper"),J,Q),C);en=p.createElement("div",{className:em,style:e.style},p.createElement("div",{className:ep},ed&&p.createElement(b.NoCompactStyle,null,p.createElement(x.NoFormStyle,{status:!0,override:!0},ed)),(0,j.cloneElement)(en,{style:null,disabled:ea}),ef&&p.createElement(b.NoCompactStyle,null,p.createElement(x.NoFormStyle,{status:!0,override:!0},ef))))}return en});t.Z=w},16373:function(e,t,a){"use strict";var l=a(64836).default,n=a(75263).default;t.default=void 0;var r=n(a(62704)),o=l(a(87412)),s=r.default;s.Header=r.Header,s.Footer=r.Footer,s.Content=r.Content,s.Sider=o.default,t.default=s},89277:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10434));n(a(18698));var o=l(a(67294));n(a(13594));var s=n(a(28460)),c=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a},i=o.forwardRef(function(e,t){var a=e.ellipsis,l=e.rel,n=c(e,["ellipsis","rel"]),i=(0,r.default)((0,r.default)({},n),{rel:void 0===l&&"_blank"===n.target?"noopener noreferrer":l});return delete i.navigate,o.createElement(s.default,(0,r.default)({},i,{ref:t,ellipsis:!!a,component:"a"}))});t.default=i},21987:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10434)),o=l(a(67294)),s=n(a(28460)),c=o.forwardRef(function(e,t){return o.createElement(s.default,(0,r.default)({ref:t},e,{component:"div"}))});t.default=c},15394:function(e,t,a){"use strict";var l=a(75263).default,n=a(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(10434)),o=n(a(18698)),s=n(a(18475)),c=l(a(67294));n(a(13594));var i=n(a(28460)),u=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a},d=c.forwardRef(function(e,t){var a=e.ellipsis,l=u(e,["ellipsis"]),n=c.useMemo(function(){return a&&"object"===(0,o.default)(a)?(0,s.default)(a,["expandable","rows"]):a},[a]);return c.createElement(i.default,(0,r.default)({ref:t},l,{ellipsis:n,component:"span"}))});t.default=d},53740:function(e,t,a){"use strict";var l=a(64836).default;t.default=void 0;var n=l(a(89277)),r=l(a(21987)),o=l(a(15394)),s=l(a(11700)),c=l(a(89652)).default;c.Text=o.default,c.Link=n.default,c.Title=s.default,c.Paragraph=r.default,t.default=c},93645:function(e,t,a){"use strict";a.d(t,{u:function(){return n}});var l={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function n(e){return e?l[e]:l.trunc}},59910:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var l=a(19013),n=a(13882);function r(e,t){return(0,n.Z)(2,arguments),(0,l.Z)(e).getTime()-(0,l.Z)(t).getTime()}},11699:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var l=a(59910),n=a(13882),r=a(93645);function o(e,t,a){(0,n.Z)(2,arguments);var o=(0,l.Z)(e,t)/1e3;return(0,r.u)(null==a?void 0:a.roundingMethod)(o)}},81009:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-social-items",function(){return a(25190)}])},97469:function(e,t,a){"use strict";a.d(t,{Z:function(){return E}});var l=a(85893),n=a(67294),r=a(53740),o=a(2307),s=a(65400),c=a(56697),i=a(51024),u=a(5152),d=a.n(u),f=a(64749),p=a(24044);let m=e=>{let{iconList:t,selectedOption:a,onSelected:n}=e,r=""===a?null:a;return(0,l.jsxs)("div",{className:"social-dropdown-container",children:[(0,l.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,l.jsxs)("div",{className:"formfield-container",children:[(0,l.jsx)("div",{className:"label-side",children:(0,l.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,l.jsx)("div",{className:"input-side",children:(0,l.jsxs)(f.default,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:r,value:r,onSelect:e=>{n&&n(e)},children:[t.map(e=>{let{platform:t,icon:a,key:n}=e;return(0,l.jsxs)(f.default.Option,{className:"social-option",value:n,children:[(0,l.jsx)("span",{className:"option-icon",children:(0,l.jsx)("img",{src:a,alt:"",className:"option-icon"})}),(0,l.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(n))}),(0,l.jsx)(f.default.Option,{className:"social-option",value:p.z_,children:"Other..."},"platform-".concat(p.z_))]})})]})]})};var v=a(81453),h=a(38631),x=a(53899),b=a(67032),j=a(91332),y=a(57520);let{Title:g}=r.default,w=d()(()=>Promise.resolve().then(a.t.bind(a,18244,23)),{loadableGenerated:{webpack:()=>[18244]},ssr:!1}),N=d()(()=>Promise.resolve().then(a.t.bind(a,22802,23)),{loadableGenerated:{webpack:()=>[22802]},ssr:!1}),O=d()(()=>a.e(7949).then(a.t.bind(a,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1});function E(){var e,t;let[a,r]=(0,n.useState)([]),[u,d]=(0,n.useState)([]),[f,E]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),[C,_]=(0,n.useState)(!1),[P,I]=(0,n.useState)(-1),[M,z]=(0,n.useState)(p.wC),[Z,T]=(0,n.useState)(null),H=(0,n.useContext)(h.a),{serverConfig:F,setFieldInConfigState:L}=H||{},{instanceDetails:R}=F,{socialHandles:A}=R,B=async()=>{try{let e=await (0,v.rQ)(v.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));r(t)}catch(e){console.log(e)}},U=e=>a.find(t=>t.key===e)||!1,D=""!==M.platform&&!a.find(e=>e.key===M.platform);(0,n.useEffect)(()=>{B()},[]),(0,n.useEffect)(()=>{R.socialHandles&&d(A)},[R]);let G=()=>{T(null),clearTimeout(null)},W=()=>{E(!1),I(-1),k(!1),_(!1),z({...p.wC})},K=()=>{W()},V=(e,t)=>{z({...M,[e]:t})},X=async e=>{await (0,p.Si)({apiPath:p.c9,data:{value:e},onSuccess:()=>{L({fieldName:"socialHandles",value:e,path:"instanceDetails"}),_(!1),K(),T((0,j.kg)(j.zv)),setTimeout(G,p.sI)},onError:e=>{T((0,j.kg)(j.Un,"There was an error: ".concat(e))),_(!1),setTimeout(G,p.sI)}})},Q=e=>{let t=[...u];t.splice(e,1),X(t)},Y=e=>{if(e<=0||e>=u.length)return;let t=[...u],a=t[e-1];t[e-1]=t[e],t[e]=a,X(t)},$=e=>{if(e<0||e>=u.length-1)return;let t=[...u],a=t[e+1];t[e+1]=t[e],t[e]=a,X(t)},q=[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:a,url:n}=t,r=U(a);if(!r)return(0,l.jsx)("div",{className:"social-handle-cell",children:(0,l.jsxs)("p",{className:"option-label",children:[(0,l.jsx)("strong",{children:a}),(0,l.jsx)("span",{className:"handle-url",title:n,children:n})]})});let{icon:o,platform:s}=r;return(0,l.jsxs)("div",{className:"social-handle-cell",children:[(0,l.jsx)("span",{className:"option-icon",children:(0,l.jsx)("img",{src:o,alt:"",className:"option-icon"})}),(0,l.jsxs)("p",{className:"option-label",children:[(0,l.jsx)("strong",{children:s}),(0,l.jsx)("span",{className:"handle-url",title:n,children:n})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,a)=>(0,l.jsxs)("div",{className:"actions",children:[(0,l.jsx)(s.default,{size:"small",onClick:()=>{let e=u[a];I(a),z({...e}),E(!0),U(e.platform)||k(!0)},children:"Edit"}),(0,l.jsx)(s.default,{icon:(0,l.jsx)(N,{}),size:"small",hidden:0===a,onClick:()=>Y(a)}),(0,l.jsx)(s.default,{icon:(0,l.jsx)(w,{}),size:"small",hidden:a===u.length-1,onClick:()=>$(a)}),(0,l.jsx)(s.default,{className:"delete-button",icon:(0,l.jsx)(O,{}),size:"small",onClick:()=>Q(a)})]})}],J={disabled:(e=M.url,"xmpp"===(t=M.platform)?!(0,x.Kf)(e,"xmpp"):"matrix"===t?!(0,x.bu)(e):!(0,x.jv)(e))},ee=(0,l.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,l.jsx)("div",{className:"label-side"}),(0,l.jsx)("div",{className:"input-side",children:(0,l.jsx)(i.default,{placeholder:"Other platform name",defaultValue:M.platform,onChange:e=>{let{value:t}=e.target;V("platform",t)}})})]});return(0,l.jsxs)("div",{className:"social-links-edit-container",children:[(0,l.jsx)(g,{level:3,className:"section-title",children:"Your Social Handles"}),(0,l.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,l.jsx)(y.E,{status:Z}),(0,l.jsx)(o.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:q,dataSource:u}),(0,l.jsx)(c.default,{title:"Edit Social Handle",open:f,onOk:()=>{_(!0);let e=u.length?[...u]:[];-1===P?e.push(M):e.splice(P,1,M),X(e)},onCancel:K,confirmLoading:C,okButtonProps:J,children:(0,l.jsxs)("div",{className:"social-handle-modal-content",children:[(0,l.jsx)(m,{iconList:a,selectedOption:D?p.z_:M.platform,onSelected:e=>{e===p.z_?(k(!0),V("platform","")):(k(!1),V("platform",e))}}),S&&ee,(0,l.jsx)("br",{}),(0,l.jsx)(b.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[M.platform]||"Url to page",value:M.url,onChange:e=>{let{value:t}=e;V("url",t)},useTrim:!0,type:"url",pattern:x.ax}),(0,l.jsx)(y.E,{status:Z})]})}),(0,l.jsx)("br",{}),(0,l.jsx)(s.default,{type:"primary",onClick:()=>{W(),E(!0)},children:"Add a new social link"})]})}},25190:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var l=a(85893);a(67294);var n=a(53740),r=a(97469),o=a(34261);let{Title:s}=n.default;function c(){return(0,l.jsxs)("div",{className:"config-social-items",children:[(0,l.jsx)(s,{children:"Social Items"}),(0,l.jsx)(r.Z,{})]})}c.getLayout=function(e){return(0,l.jsx)(o.l,{page:e})}},11163:function(e,t,a){e.exports=a(96885)}},function(e){e.O(0,[5596,1130,4104,9403,1024,3942,971,6697,1664,1749,1700,2122,9552,7752,5891,2891,4749,6627,8966,4261,9774,2888,179],function(){return e(e.s=81009)}),_N_E=e.O()}]);